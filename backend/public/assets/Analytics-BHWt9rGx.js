import{c as K,r as n,j as e,J as v}from"./index-_yXYEqcL.js";import{A as V,T as N,b as B}from"./AdminLayout-CTeGiCEF.js";import{F as I}from"./file-text-DGGLtmm2.js";import{C as _}from"./chart-column-eauyrf0D.js";import{S as T}from"./sparkles-BX8nnFHk.js";import{E as U}from"./euro-BOxFFLgt.js";import{C as q}from"./calendar-NWhThMGY.js";import{A as H}from"./activity-ZIepOcem.js";import{U as O}from"./users-DLPfMp13.js";import{L as k}from"./lightbulb-Cz-T5sdK.js";import{g as Z,B as j,f as G,R as m,T as x,C as D}from"./generateCategoricalChart-DfuJ2MFb.js";import{X as h,Y as b,L as J,C as g,a as X}from"./LineChart-BWeOzISL.js";import{P as Y,a as W,T as Q}from"./PieChart-4B2ZOijp.js";import{C as ee}from"./clock-xh9IAeUk.js";import{Z as E}from"./zap-DpnIF2_x.js";import{M as se}from"./minus-Cg0bGZNe.js";import"./image-nfPd-l1I.js";import"./settings-BkyowQvs.js";import"./user-Ai5-1aUm.js";import"./scissors-DPHsfmq1.js";import"./shopping-bag-CEo4UOGG.js";import"./message-square-BHRNNhOm.js";import"./chevron-right-DPdOXaL5.js";import"./log-out-CvuSphzZ.js";import"./index-BwpFS_hM.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=K("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);var w=Z({chartName:"BarChart",GraphicalChild:j,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:h},{axisType:"yAxis",AxisComp:b}],formatAxisMap:G});const ae=[{value:"7d",label:"7 jours"},{value:"30d",label:"30 jours"},{value:"90d",label:"90 jours"},{value:"1y",label:"1 an"}];function re({change:a}){if(!a||a.value===0)return null;const o=a.direction==="up",t=a.direction==="down";return e.jsxs("div",{className:`flex items-center gap-1 text-xs mt-1 ${o?"text-green-400":t?"text-red-400":"text-white/40"}`,children:[o&&e.jsx(N,{className:"w-3 h-3"}),t&&e.jsx(Q,{className:"w-3 h-3"}),!o&&!t&&e.jsx(se,{className:"w-3 h-3"}),e.jsxs("span",{children:[o?"+":"",a.value,"% vs prÃ©cÃ©dent"]})]})}function ze(){const[a,o]=n.useState(null),[t,F]=n.useState(null),[r,L]=n.useState(null),[p,M]=n.useState("30d"),[P,C]=n.useState(!0),[f,A]=n.useState(null),[u,$]=n.useState("overview");n.useEffect(()=>{const s=localStorage.getItem("admin_token");C(!0);const i=fetch(`/api/admin/analytics?period=${p}`,{headers:{Authorization:`Bearer ${s}`}}).then(l=>l.json()),z=fetch("/api/analytics/predictions",{headers:{Authorization:`Bearer ${s}`}}).then(l=>l.json()).catch(()=>null),y=fetch("/api/analytics/anomalies",{headers:{Authorization:`Bearer ${s}`}}).then(l=>l.json()).catch(()=>null);Promise.all([i,z,y]).then(([l,d,R])=>{l.success&&o(l),d?.success!==!1&&F(d),R?.success!==!1&&L(R)}).catch(console.error).finally(()=>C(!1))},[p]);const S=async s=>{A(s);try{const i=localStorage.getItem("admin_token"),y=await(await fetch(`/api/admin/analytics/export/${s}?period=${p}`,{headers:{Authorization:`Bearer ${i}`}})).blob(),l=window.URL.createObjectURL(y),d=document.createElement("a");d.href=l,d.download=`analytics-${p}.${s==="excel"?"xlsx":"pdf"}`,d.click(),window.URL.revokeObjectURL(l)}catch(i){console.error("Export error:",i)}finally{A(null)}},c={contentStyle:{background:"#18181b",border:"1px solid rgba(245,158,11,0.3)",borderRadius:"12px",color:"#fff"},itemStyle:{color:"#fbbf24"}};return e.jsx(V,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Analytics"}),e.jsx("p",{className:"text-white/50 text-sm",children:"Vue d'ensemble de vos performances"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[ae.map(s=>e.jsx("button",{onClick:()=>M(s.value),className:`px-4 py-2 rounded-xl text-sm font-medium transition-all ${p===s.value?"bg-gradient-to-r from-amber-500 to-orange-500 text-white shadow-lg shadow-amber-500/30":"bg-white/5 border border-white/10 text-white/60 hover:text-white hover:bg-white/10"}`,children:s.label},s.value)),e.jsxs("div",{className:"flex gap-2 sm:border-l sm:border-white/10 sm:pl-3 sm:ml-1",children:[e.jsxs("button",{onClick:()=>S("excel"),disabled:!!f,className:"flex items-center gap-1.5 px-3 py-2 bg-emerald-600/80 hover:bg-emerald-600 text-white rounded-xl text-sm transition-all disabled:opacity-50",children:[e.jsx(te,{className:"w-4 h-4"}),f==="excel"?"...":"Excel"]}),e.jsxs("button",{onClick:()=>S("pdf"),disabled:!!f,className:"flex items-center gap-1.5 px-3 py-2 bg-red-600/80 hover:bg-red-600 text-white rounded-xl text-sm transition-all disabled:opacity-50",children:[e.jsx(I,{className:"w-4 h-4"}),f==="pdf"?"...":"PDF"]})]})]})]}),e.jsx("div",{className:"flex gap-1 bg-zinc-900/50 p-1 rounded-xl w-fit",children:[{id:"overview",label:"Vue gÃ©nÃ©rale",icon:_},{id:"predictions",label:"PrÃ©dictions IA",icon:T},{id:"anomalies",label:"Anomalies",icon:v,badge:r?.nb_anomalies}].map(s=>e.jsxs("button",{onClick:()=>$(s.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all ${u===s.id?"bg-gradient-to-r from-amber-500 to-orange-500 text-white shadow-lg":"text-white/60 hover:text-white hover:bg-white/10"}`,children:[e.jsx(s.icon,{className:"w-4 h-4"}),s.label,s.badge&&s.badge>0&&e.jsx("span",{className:"ml-1 px-1.5 py-0.5 text-xs bg-red-500 text-white rounded-full",children:s.badge})]},s.id))}),r&&r.nb_anomalies>0&&r.sante_globale!=="bonne"&&u!=="anomalies"&&e.jsx("div",{className:"bg-gradient-to-r from-red-500/20 to-orange-500/20 border border-red-500/30 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(v,{className:"w-5 h-5 text-red-400"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-white font-medium",children:[r.nb_anomalies," anomalie",r.nb_anomalies>1?"s":""," dÃ©tectÃ©e",r.nb_anomalies>1?"s":""]}),e.jsx("p",{className:"text-white/60 text-sm",children:r.anomalies[0]?.message})]}),e.jsx("button",{onClick:()=>$("anomalies"),className:"px-3 py-1.5 bg-red-500/20 hover:bg-red-500/30 border border-red-500/30 rounded-lg text-red-400 text-sm transition-all",children:"Voir dÃ©tails"})]})}),P?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-500"})}):a&&u==="overview"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[{label:"Chiffre d'affaires",value:`${Math.round(a.summary.total_revenue/100)}â‚¬`,sub:`Moy. ${Math.round(a.summary.average_per_appointment/100)}â‚¬/RDV`,icon:U,color:"from-green-500 to-emerald-600",change:a.comparison?.changes.revenue},{label:"Rendez-vous",value:a.summary.total_appointments,sub:`${a.summary.confirmed} confirmÃ©s`,icon:q,color:"from-blue-500 to-cyan-600",change:a.comparison?.changes.appointments},{label:"Taux confirmation",value:`${a.summary.total_appointments>0?Math.round(a.summary.confirmed/a.summary.total_appointments*100):0}%`,sub:`${a.summary.cancelled} annulÃ©s`,icon:H,color:"from-purple-500 to-violet-600"},{label:"Nouveaux clients",value:a.summary.new_clients,sub:`${a.summary.total_clients} total`,icon:O,color:"from-amber-500 to-orange-600"}].map((s,i)=>e.jsxs("div",{className:"bg-zinc-900/80 border border-white/10 rounded-2xl p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"text-white/50 text-sm",children:s.label}),e.jsx("div",{className:`w-10 h-10 bg-gradient-to-br ${s.color} rounded-xl flex items-center justify-center shadow-lg`,children:e.jsx(s.icon,{className:"w-5 h-5 text-white"})})]}),e.jsx("p",{className:"text-2xl font-bold text-white",children:s.value}),e.jsx("p",{className:"text-xs text-white/40 mt-1",children:s.sub}),s.change&&e.jsx(re,{change:s.change})]},i))}),a.insights&&a.insights.length>0&&e.jsxs("div",{className:"bg-zinc-900/80 border border-amber-500/20 rounded-2xl p-5",children:[e.jsxs("h3",{className:"text-white font-semibold mb-4 flex items-center gap-2",children:[e.jsx(k,{className:"w-5 h-5 text-amber-400"}),"Insights"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:a.insights.map((s,i)=>e.jsx("div",{className:`p-3 rounded-xl border-l-4 ${s.type==="success"?"bg-green-500/10 border-green-500":s.type==="warning"?"bg-amber-500/10 border-amber-500":"bg-blue-500/10 border-blue-500"}`,children:e.jsxs("div",{className:"flex items-start gap-2.5",children:[e.jsx("span",{className:"text-xl shrink-0",children:s.icon}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-white text-sm",children:s.title}),e.jsx("p",{className:"text-xs text-white/50 mt-0.5",children:s.message})]})]})},i))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 bg-zinc-900/80 border border-white/10 rounded-2xl p-5",children:[e.jsxs("h3",{className:"text-white font-semibold mb-4 flex items-center gap-2",children:[e.jsx(N,{className:"w-5 h-5 text-green-400"}),"Evolution du CA"]}),e.jsx(m,{width:"100%",height:280,children:e.jsxs(J,{data:a.charts.revenue_timeline,children:[e.jsx(g,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.05)"}),e.jsx(h,{dataKey:"date",tick:{fill:"rgba(255,255,255,0.4)",fontSize:11},tickFormatter:s=>new Date(s).toLocaleDateString("fr-FR",{day:"numeric",month:"short"})}),e.jsx(b,{tick:{fill:"rgba(255,255,255,0.4)",fontSize:11}}),e.jsx(x,{...c,formatter:s=>[`${Math.round(s/100)}â‚¬`,"CA"],labelFormatter:s=>new Date(s).toLocaleDateString("fr-FR")}),e.jsx(X,{type:"monotone",dataKey:"revenue",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981",r:3}})]})})]}),e.jsxs("div",{className:"bg-zinc-900/80 border border-white/10 rounded-2xl p-5",children:[e.jsxs("h3",{className:"text-white font-semibold mb-4 flex items-center gap-2",children:[e.jsx(_,{className:"w-5 h-5 text-blue-400"}),"RDV par statut"]}),e.jsx(m,{width:"100%",height:280,children:e.jsxs(Y,{children:[e.jsx(W,{data:a.charts.appointments_by_status.filter(s=>s.count>0),cx:"50%",cy:"50%",outerRadius:90,innerRadius:50,dataKey:"count",label:({status:s,count:i})=>`${s}: ${i}`,labelLine:{stroke:"rgba(255,255,255,0.3)"},children:a.charts.appointments_by_status.filter(s=>s.count>0).map((s,i)=>e.jsx(D,{fill:s.color},i))}),e.jsx(x,{...c})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-zinc-900/80 border border-white/10 rounded-2xl p-5",children:[e.jsxs("h3",{className:"text-white font-semibold mb-4 flex items-center gap-2",children:[e.jsx(_,{className:"w-5 h-5 text-purple-400"}),"Services populaires"]}),e.jsx(m,{width:"100%",height:280,children:e.jsxs(w,{data:a.charts.top_services,layout:"vertical",children:[e.jsx(g,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.05)"}),e.jsx(h,{type:"number",tick:{fill:"rgba(255,255,255,0.4)",fontSize:11}}),e.jsx(b,{type:"category",dataKey:"service",tick:{fill:"rgba(255,255,255,0.6)",fontSize:11},width:140}),e.jsx(x,{...c}),e.jsx(j,{dataKey:"count",fill:"#8b5cf6",radius:[0,6,6,0]})]})})]}),e.jsxs("div",{className:"bg-zinc-900/80 border border-white/10 rounded-2xl p-5",children:[e.jsxs("h3",{className:"text-white font-semibold mb-4 flex items-center gap-2",children:[e.jsx(ee,{className:"w-5 h-5 text-amber-400"}),"Heures de pointe"]}),e.jsx(m,{width:"100%",height:280,children:e.jsxs(w,{data:a.charts.peak_hours,children:[e.jsx(g,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.05)"}),e.jsx(h,{dataKey:"hour",tick:{fill:"rgba(255,255,255,0.4)",fontSize:11}}),e.jsx(b,{tick:{fill:"rgba(255,255,255,0.4)",fontSize:11}}),e.jsx(x,{...c}),e.jsx(j,{dataKey:"count",fill:"#f59e0b",radius:[6,6,0,0]})]})})]})]}),e.jsxs("div",{className:"bg-zinc-900/80 border border-white/10 rounded-2xl p-5",children:[e.jsxs("h3",{className:"text-white font-semibold mb-4 flex items-center gap-2",children:[e.jsx(q,{className:"w-5 h-5 text-cyan-400"}),"RDV par jour de la semaine"]}),e.jsx(m,{width:"100%",height:200,children:e.jsxs(w,{data:a.charts.rdv_by_day_of_week,children:[e.jsx(g,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.05)"}),e.jsx(h,{dataKey:"day",tick:{fill:"rgba(255,255,255,0.4)",fontSize:12}}),e.jsx(b,{tick:{fill:"rgba(255,255,255,0.4)",fontSize:11}}),e.jsx(x,{...c}),e.jsx(j,{dataKey:"count",fill:"#06b6d4",radius:[6,6,0,0]})]})})]})]}):null,u==="predictions"&&t&&e.jsxs("div",{className:"space-y-6",children:[t.mois_en_cours&&e.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-purple-500/20 border border-blue-500/30 rounded-2xl p-6",children:[e.jsxs("h3",{className:"text-white font-semibold mb-4 flex items-center gap-2",children:[e.jsx(B,{className:"w-5 h-5 text-blue-400"}),t.mois_en_cours.nom," en cours"]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white/5 rounded-xl p-4",children:[e.jsx("p",{className:"text-white/50 text-sm",children:"Jour"}),e.jsxs("p",{className:"text-2xl font-bold text-white",children:[t.mois_en_cours.jour_actuel,"/",t.mois_en_cours.jours_total]})]}),e.jsxs("div",{className:"bg-white/5 rounded-xl p-4",children:[e.jsx("p",{className:"text-white/50 text-sm",children:"CA actuel"}),e.jsxs("p",{className:"text-2xl font-bold text-green-400",children:[t.mois_en_cours.ca_actuel_euros,"â‚¬"]})]}),e.jsxs("div",{className:"bg-white/5 rounded-xl p-4",children:[e.jsx("p",{className:"text-white/50 text-sm",children:"CA estimÃ© fin de mois"}),e.jsxs("p",{className:"text-2xl font-bold text-amber-400",children:[t.mois_en_cours.ca_estime_mois_complet_euros,"â‚¬"]})]}),e.jsxs("div",{className:"bg-white/5 rounded-xl p-4",children:[e.jsx("p",{className:"text-white/50 text-sm",children:"RDV estimÃ©s"}),e.jsx("p",{className:"text-2xl font-bold text-purple-400",children:t.mois_en_cours.rdv_estime_mois_complet})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-amber-500/20 to-orange-500/20 border border-amber-500/30 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-white font-semibold flex items-center gap-2",children:[e.jsx(T,{className:"w-5 h-5 text-amber-400"}),"PrÃ©diction ",t.prediction_mois_prochain.nom]}),e.jsx("p",{className:"text-white/50 text-sm mt-1",children:t.prediction_mois_prochain.methode})]}),e.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${t.prediction_mois_prochain.confiance==="haute"?"bg-green-500/20 text-green-400":t.prediction_mois_prochain.confiance==="moyenne"?"bg-amber-500/20 text-amber-400":"bg-white/10 text-white/60"}`,children:["Confiance ",t.prediction_mois_prochain.confiance]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-white/50 text-sm mb-2",children:"CA prÃ©vu"}),e.jsxs("p",{className:"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-amber-400 to-orange-500",children:[t.prediction_mois_prochain.ca_prevu_euros,"â‚¬"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-white/50 text-sm mb-2",children:"RDV prÃ©vus"}),e.jsx("p",{className:"text-4xl font-bold text-white",children:t.prediction_mois_prochain.nb_rdv_prevu})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-white/50 text-sm mb-2",children:"Croissance"}),e.jsxs("p",{className:`text-4xl font-bold ${parseFloat(t.croissance_pourcent)>0?"text-green-400":parseFloat(t.croissance_pourcent)<0?"text-red-400":"text-white/60"}`,children:[parseFloat(t.croissance_pourcent)>0?"+":"",t.croissance_pourcent,"%"]})]})]})]}),e.jsxs("div",{className:"bg-zinc-900/80 border border-white/10 rounded-2xl p-6",children:[e.jsxs("h3",{className:"text-white font-semibold mb-4 flex items-center gap-2",children:[e.jsx(N,{className:"w-5 h-5 text-green-400"}),"Historique & Projection"]}),e.jsx(m,{width:"100%",height:300,children:e.jsxs(w,{data:[...t.historique_mensuel.map(s=>({mois:s.mois_nom.split(" ")[0],CA:parseFloat(s.ca_euros),type:"historique"})),{mois:t.prediction_mois_prochain.nom.split(" ")[0],CA:parseFloat(t.prediction_mois_prochain.ca_prevu_euros),type:"prediction"}],children:[e.jsx(g,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.05)"}),e.jsx(h,{dataKey:"mois",tick:{fill:"rgba(255,255,255,0.6)",fontSize:12}}),e.jsx(b,{tick:{fill:"rgba(255,255,255,0.4)",fontSize:11}}),e.jsx(x,{...c,formatter:s=>[`${s}â‚¬`,"CA"]}),e.jsx(j,{dataKey:"CA",radius:[6,6,0,0],children:[...t.historique_mensuel.map(()=>({type:"historique"})),{type:"prediction"}].map((s,i)=>e.jsx(D,{fill:s.type==="prediction"?"#f59e0b":"#4f46e5"},i))})]})}),e.jsxs("div",{className:"flex justify-center gap-6 mt-4",children:[e.jsxs("span",{className:"flex items-center gap-2 text-sm text-white/60",children:[e.jsx("span",{className:"w-3 h-3 bg-indigo-600 rounded"})," Historique"]}),e.jsxs("span",{className:"flex items-center gap-2 text-sm text-white/60",children:[e.jsx("span",{className:"w-3 h-3 bg-amber-500 rounded"})," PrÃ©diction IA"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.services_en_hausse.length>0&&e.jsxs("div",{className:"bg-zinc-900/80 border border-white/10 rounded-2xl p-6",children:[e.jsxs("h3",{className:"text-white font-semibold mb-4 flex items-center gap-2",children:[e.jsx(N,{className:"w-5 h-5 text-green-400"}),"Services en hausse"]}),e.jsx("div",{className:"space-y-3",children:t.services_en_hausse.map((s,i)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-xl",children:[e.jsx("span",{className:"text-white",children:s.service}),e.jsxs("span",{className:"text-green-400 font-semibold",children:["+",s.pourcentage,"%"]})]},i))})]}),t.recommandations.length>0&&e.jsxs("div",{className:"bg-zinc-900/80 border border-white/10 rounded-2xl p-6",children:[e.jsxs("h3",{className:"text-white font-semibold mb-4 flex items-center gap-2",children:[e.jsx(k,{className:"w-5 h-5 text-amber-400"}),"Recommandations IA"]}),e.jsx("div",{className:"space-y-3",children:t.recommandations.map((s,i)=>e.jsxs("div",{className:`p-3 rounded-xl border-l-4 ${s.type==="alerte"?"bg-red-500/10 border-red-500":"bg-amber-500/10 border-amber-500"}`,children:[e.jsx("p",{className:"text-white text-sm font-medium",children:s.message}),e.jsxs("p",{className:"text-white/60 text-xs mt-1",children:["ðŸ’¡ ",s.action]})]},i))})]})]})]}),u==="anomalies"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:`rounded-2xl p-6 ${r?.sante_globale==="bonne"?"bg-gradient-to-br from-green-500/20 to-emerald-500/20 border border-green-500/30":r?.sante_globale==="critique"?"bg-gradient-to-br from-red-500/20 to-rose-500/20 border border-red-500/30":"bg-gradient-to-br from-amber-500/20 to-orange-500/20 border border-amber-500/30"}`,children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center ${r?.sante_globale==="bonne"?"bg-green-500/20":r?.sante_globale==="critique"?"bg-red-500/20":"bg-amber-500/20"}`,children:r?.sante_globale==="bonne"?e.jsx(E,{className:"w-8 h-8 text-green-400"}):e.jsx(v,{className:"w-8 h-8 text-amber-400"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-bold text-white",children:["SantÃ© : ",r?.sante_globale==="bonne"?"Excellente ðŸŽ‰":r?.sante_globale==="critique"?"Critique âš ï¸":"Attention requise"]}),e.jsx("p",{className:"text-white/60",children:(r?.nb_anomalies??0)===0?"Aucune anomalie dÃ©tectÃ©e":`${r?.nb_anomalies??0} anomalie${(r?.nb_anomalies??0)>1?"s":""} dÃ©tectÃ©e${(r?.nb_anomalies??0)>1?"s":""}`})]})]})}),r?.anomalies&&r.anomalies.length>0?e.jsx("div",{className:"space-y-4",children:r.anomalies.map((s,i)=>e.jsxs("div",{className:`bg-zinc-900/80 border rounded-2xl p-5 ${s.severite==="critique"?"border-red-500/50":s.severite==="haute"?"border-orange-500/50":s.severite==="moyenne"?"border-amber-500/50":"border-white/10"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${s.severite==="critique"?"bg-red-500/20":s.severite==="haute"?"bg-orange-500/20":s.severite==="moyenne"?"bg-amber-500/20":"bg-blue-500/20"}`,children:e.jsx(v,{className:`w-5 h-5 ${s.severite==="critique"?"text-red-400":s.severite==="haute"?"text-orange-400":s.severite==="moyenne"?"text-amber-400":"text-blue-400"}`})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-semibold",children:s.message}),e.jsxs("p",{className:"text-white/50 text-sm",children:["Valeur: ",s.valeur]})]})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium uppercase ${s.severite==="critique"?"bg-red-500/20 text-red-400":s.severite==="haute"?"bg-orange-500/20 text-orange-400":s.severite==="moyenne"?"bg-amber-500/20 text-amber-400":"bg-blue-500/20 text-blue-400"}`,children:s.severite})]}),e.jsx("div",{className:"bg-white/5 rounded-xl p-3 mt-3",children:e.jsxs("p",{className:"text-white/70 text-sm flex items-start gap-2",children:[e.jsx(k,{className:"w-4 h-4 text-amber-400 flex-shrink-0 mt-0.5"}),s.recommandation]})})]},i))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-green-500/20 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(E,{className:"w-8 h-8 text-green-400"})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Tout va bien ! ðŸŽ‰"}),e.jsx("p",{className:"text-white/60",children:"Aucune anomalie dÃ©tectÃ©e sur les 30 derniers jours"})]})]})]})})}export{ze as default};
