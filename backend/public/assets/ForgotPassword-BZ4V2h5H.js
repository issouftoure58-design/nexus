import{a as p,r as a,j as e,d as u,B as d,S as f}from"./index-_yXYEqcL.js";import{N as v}from"./navigation-CIqCX6Su.js";import{I as j}from"./input-TVuV-KxK.js";import{L as w}from"./label-BdSUWGgM.js";import{A as N}from"./arrow-left-BsOgyces.js";import{M as n}from"./mail-N-gOIhL7.js";import{C as g}from"./circle-check-DHSvjqNQ.js";import"./shopping-bag-CEo4UOGG.js";import"./user-Ai5-1aUm.js";import"./phone-DqBiH1an.js";function P(){const{toast:i}=p(),[o,l]=a.useState(!1),[m,c]=a.useState(!1),[s,b]=a.useState(""),x=async t=>{t.preventDefault(),l(!0);try{const r=await fetch("/api/client/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s})}),h=await r.json();if(!r.ok)throw new Error(h.error||"Erreur lors de l'envoi");c(!0),i({title:"Email envoyé",description:"Vérifiez votre boîte de réception"})}catch(r){i({title:"Erreur",description:r.message,variant:"destructive"})}finally{l(!1)}};return e.jsxs("div",{className:"min-h-screen bg-zinc-950",children:[e.jsx(v,{}),e.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[e.jsx("div",{className:"absolute inset-0 african-pattern opacity-5"}),e.jsx("div",{className:"absolute top-1/4 right-0 w-96 h-96 bg-amber-500/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-1/4 left-0 w-80 h-80 bg-orange-500/10 rounded-full blur-3xl"})]}),e.jsx("div",{className:"fixed top-0 left-0 right-0 h-4 bg-black z-30"}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 h-4 bg-black z-30"}),e.jsx("div",{className:"fixed top-8 left-6 w-12 h-12 border-l-2 border-t-2 border-amber-500/30 z-20"}),e.jsx("div",{className:"fixed top-8 right-6 w-12 h-12 border-r-2 border-t-2 border-amber-500/30 z-20"}),e.jsx("div",{className:"fixed bottom-8 left-6 w-12 h-12 border-l-2 border-b-2 border-amber-500/30 z-20"}),e.jsx("div",{className:"fixed bottom-8 right-6 w-12 h-12 border-r-2 border-b-2 border-amber-500/30 z-20"}),e.jsx("main",{className:"relative z-10 flex items-center justify-center min-h-screen px-4 pt-20 pb-12",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx(u,{href:"/mon-compte/connexion",children:e.jsxs(d,{variant:"ghost",className:"mb-6 text-white/60 hover:text-white hover:bg-white/5",children:[e.jsx(N,{className:"mr-2 h-4 w-4"}),"Retour à la connexion"]})}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-amber-500/20 backdrop-blur-sm rounded-full border border-amber-500/30 mb-6",children:[e.jsx(n,{className:"h-4 w-4 text-amber-400"}),e.jsx("span",{className:"text-amber-300 text-sm font-medium",children:"Récupération"})]}),e.jsxs("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:[e.jsx("span",{className:"text-white",children:"Mot de passe "}),e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-amber-400 to-orange-500",children:"oublié ?"})]}),e.jsx("p",{className:"text-white/60",children:"Entrez votre email pour recevoir un lien de réinitialisation"})]}),e.jsxs("div",{className:"relative bg-white/5 backdrop-blur-sm border border-white/10 rounded-3xl p-8 overflow-hidden",children:[e.jsx("div",{className:"absolute top-4 left-4 w-6 h-6 border-l-2 border-t-2 border-amber-500/50 rounded-tl-lg"}),e.jsx("div",{className:"absolute top-4 right-4 w-6 h-6 border-r-2 border-t-2 border-amber-500/50 rounded-tr-lg"}),e.jsx("div",{className:"absolute bottom-4 left-4 w-6 h-6 border-l-2 border-b-2 border-amber-500/50 rounded-bl-lg"}),e.jsx("div",{className:"absolute bottom-4 right-4 w-6 h-6 border-r-2 border-b-2 border-amber-500/50 rounded-br-lg"}),m?e.jsxs("div",{className:"text-center py-6",children:[e.jsx("div",{className:"w-16 h-16 bg-emerald-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(g,{className:"h-8 w-8 text-emerald-400"})}),e.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Email envoyé !"}),e.jsxs("p",{className:"text-white/60 mb-6",children:["Si un compte existe avec l'adresse ",e.jsx("strong",{className:"text-white",children:s}),", vous recevrez un lien de réinitialisation."]}),e.jsx("p",{className:"text-white/40 text-sm",children:"Pensez à vérifier vos spams si vous ne voyez pas l'email."})]}):e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"email",className:"text-white/80",children:"Adresse email"}),e.jsxs("div",{className:"relative",children:[e.jsx(n,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-white/40"}),e.jsx(j,{id:"email",type:"email",placeholder:"votre@email.com",value:s,onChange:t=>b(t.target.value),className:"pl-10 bg-white/5 border-white/10 text-white placeholder:text-white/30 focus:border-amber-500/50 focus:ring-amber-500/20",required:!0})]})]}),e.jsx(d,{type:"submit",disabled:o,className:"w-full h-12 bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 text-white shadow-lg shadow-amber-500/30",children:o?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-5 w-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Envoi en cours..."]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{className:"h-5 w-5"}),"Envoyer le lien"]})})]})]})]})})]})}export{P as default};
