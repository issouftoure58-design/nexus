import{b as w,a as j,r as i,j as e,d as c,B as h}from"./index-_yXYEqcL.js";import{N as g}from"./navigation-CIqCX6Su.js";import{I as x}from"./input-TVuV-KxK.js";import{L as b}from"./label-BdSUWGgM.js";import{U as N}from"./user-Ai5-1aUm.js";import{M as v}from"./mail-N-gOIhL7.js";import{L as y}from"./lock-CdiT9bM9.js";import{E as C}from"./eye-off-DIw5pcxB.js";import{E as S}from"./eye-CvXJPXHv.js";import{L as k}from"./log-in-C2KOzuIL.js";import{S as z}from"./sparkles-BX8nnFHk.js";import{A as L}from"./arrow-right-Dc_jlRSV.js";import"./shopping-bag-CEo4UOGG.js";import"./phone-DqBiH1an.js";function J(){const[,p]=w(),{toast:l}=j(),[d,n]=i.useState(!1),[o,u]=i.useState(!1),[r,m]=i.useState({email:"",password:""}),f=async t=>{t.preventDefault(),n(!0);try{const a=await fetch("/api/client/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),s=await a.json();if(!a.ok)throw new Error(s.error||"Erreur de connexion");localStorage.setItem("client_token",s.accessToken),localStorage.setItem("client_refresh_token",s.refreshToken),localStorage.setItem("client_user",JSON.stringify(s.client)),l({title:"Connexion réussie",description:`Bienvenue ${s.client.prenom||s.client.nom} !`}),p("/mon-compte")}catch(a){l({title:"Erreur",description:a.message,variant:"destructive"})}finally{n(!1)}};return e.jsxs("div",{className:"min-h-screen bg-zinc-950",children:[e.jsx(g,{}),e.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[e.jsx("div",{className:"absolute inset-0 african-pattern opacity-5"}),e.jsx("div",{className:"absolute top-1/4 right-0 w-96 h-96 bg-amber-500/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-1/4 left-0 w-80 h-80 bg-orange-500/10 rounded-full blur-3xl"})]}),e.jsx("div",{className:"fixed top-0 left-0 right-0 h-4 bg-black z-30"}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 h-4 bg-black z-30"}),e.jsx("div",{className:"fixed top-8 left-6 w-12 h-12 border-l-2 border-t-2 border-amber-500/30 z-20"}),e.jsx("div",{className:"fixed top-8 right-6 w-12 h-12 border-r-2 border-t-2 border-amber-500/30 z-20"}),e.jsx("div",{className:"fixed bottom-8 left-6 w-12 h-12 border-l-2 border-b-2 border-amber-500/30 z-20"}),e.jsx("div",{className:"fixed bottom-8 right-6 w-12 h-12 border-r-2 border-b-2 border-amber-500/30 z-20"}),e.jsx("main",{className:"relative z-10 flex items-center justify-center min-h-screen px-4 pt-20 pb-12",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-amber-500/20 backdrop-blur-sm rounded-full border border-amber-500/30 mb-6",children:[e.jsx(N,{className:"h-4 w-4 text-amber-400"}),e.jsx("span",{className:"text-amber-300 text-sm font-medium",children:"Espace Client"})]}),e.jsxs("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:[e.jsx("span",{className:"text-white",children:"Connexion à "}),e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-amber-400 to-orange-500",children:"votre compte"})]}),e.jsx("p",{className:"text-white/60",children:"Accédez à votre espace fidélité et vos rendez-vous"})]}),e.jsxs("div",{className:"relative bg-white/5 backdrop-blur-sm border border-white/10 rounded-3xl p-8 overflow-hidden",children:[e.jsx("div",{className:"absolute top-4 left-4 w-6 h-6 border-l-2 border-t-2 border-amber-500/50 rounded-tl-lg"}),e.jsx("div",{className:"absolute top-4 right-4 w-6 h-6 border-r-2 border-t-2 border-amber-500/50 rounded-tr-lg"}),e.jsx("div",{className:"absolute bottom-4 left-4 w-6 h-6 border-l-2 border-b-2 border-amber-500/50 rounded-bl-lg"}),e.jsx("div",{className:"absolute bottom-4 right-4 w-6 h-6 border-r-2 border-b-2 border-amber-500/50 rounded-br-lg"}),e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"email",className:"text-white/80",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(v,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-white/40"}),e.jsx(x,{id:"email",type:"email",placeholder:"votre@email.com",value:r.email,onChange:t=>m({...r,email:t.target.value}),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,"data-form-type":"other","data-lpignore":"true","data-1p-ignore":"true",className:"pl-10 bg-white/5 border-white/10 text-white placeholder:text-white/30 focus:border-amber-500/50 focus:ring-amber-500/20",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"password",className:"text-white/80",children:"Mot de passe"}),e.jsxs("div",{className:"relative",children:[e.jsx(y,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-white/40"}),e.jsx(x,{id:"password",type:o?"text":"password",placeholder:"Votre mot de passe",value:r.password,onChange:t=>m({...r,password:t.target.value}),autoComplete:"new-password","data-form-type":"other","data-lpignore":"true","data-1p-ignore":"true",className:"pl-10 pr-10 bg-white/5 border-white/10 text-white placeholder:text-white/30 focus:border-amber-500/50 focus:ring-amber-500/20",required:!0}),e.jsx("button",{type:"button",onClick:()=>u(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-white/40 hover:text-white/60",children:o?e.jsx(C,{className:"h-5 w-5"}):e.jsx(S,{className:"h-5 w-5"})})]})]}),e.jsx("div",{className:"text-right",children:e.jsx(c,{href:"/mon-compte/mot-de-passe-oublie",className:"text-sm text-amber-400 hover:text-amber-300 transition-colors",children:"Mot de passe oublié ?"})}),e.jsx(h,{type:"submit",disabled:d,className:"w-full h-12 bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 text-white shadow-lg shadow-amber-500/30",children:d?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-5 w-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Connexion..."]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5"}),"Se connecter"]})})]}),e.jsxs("div",{className:"flex items-center gap-4 my-6",children:[e.jsx("div",{className:"flex-1 h-px bg-white/10"}),e.jsx("span",{className:"text-white/40 text-sm",children:"ou"}),e.jsx("div",{className:"flex-1 h-px bg-white/10"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-white/60 mb-4",children:"Vous n'avez pas encore de compte ?"}),e.jsx(c,{href:"/mon-compte/inscription",children:e.jsxs(h,{variant:"outline",className:"border-white/20 bg-white/5 text-white hover:bg-white/10 hover:border-amber-500/30",children:[e.jsx(z,{className:"mr-2 h-4 w-4 text-amber-400"}),"Créer un compte",e.jsx(L,{className:"ml-2 h-4 w-4"})]})})]})]}),e.jsxs("div",{className:"mt-8 text-center",children:[e.jsx("p",{className:"text-white/40 text-sm mb-2",children:"Avantages de l'espace client :"}),e.jsx("div",{className:"flex flex-wrap justify-center gap-3",children:["Carte fidélité","Historique RDV","Points cadeaux"].map(t=>e.jsx("span",{className:"px-3 py-1 bg-white/5 rounded-full text-white/60 text-xs border border-white/10",children:t},t))})]})]})})]})}export{J as default};
