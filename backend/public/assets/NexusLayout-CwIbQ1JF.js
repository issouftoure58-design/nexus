import{c,b as w,r as i,j as e,Q as S,d as g,V as k}from"./index-_yXYEqcL.js";import{H as C}from"./hexagon-DZpsxAWV.js";import{P as z}from"./panel-left-close-C4ECLCua.js";import{L,S as E,C as I,a as T}from"./settings-BkyowQvs.js";import{U as M}from"./users-DLPfMp13.js";import{C as O}from"./credit-card-BzWzjUVE.js";import{S as $}from"./shield-DwVSybTP.js";import{C as A}from"./chevron-right-DPdOXaL5.js";import{C as D}from"./chart-column-eauyrf0D.js";import{A as _}from"./activity-ZIepOcem.js";import{D as B}from"./dollar-sign-BiCuoXDd.js";import{B as P}from"./brain-C9qc7Lcl.js";import{L as H}from"./log-out-CvuSphzZ.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=c("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=c("PanelLeftOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=c("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=c("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]),W=[{id:"overview",label:"Vue d'ensemble",icon:D,path:"/nexus/sentinel/overview"},{id:"live",label:"Live Pulse",icon:_,path:"/nexus/sentinel/live"},{id:"explainer",label:"Explainer",icon:T,path:"/nexus/sentinel/explainer"},{id:"autopilot",label:"Autopilot",icon:S,path:"/nexus/sentinel/autopilot"},{id:"costs",label:"Couts",icon:B,path:"/nexus/sentinel/costs"},{id:"security",label:"Securite",icon:R,path:"/nexus/sentinel/security"},{id:"intelligence",label:"Intelligence",icon:P,path:"/nexus/sentinel/intelligence"},{id:"backups",label:"Backups",icon:V,path:"/nexus/sentinel/backups"},{id:"console",label:"Console",icon:U,path:"/nexus/sentinel/console"}],F=[{icon:L,label:"Dashboard",path:"/nexus/dashboard"},{icon:M,label:"Tenants",path:"/nexus/tenants"}],J=[{icon:O,label:"Billing",path:"/nexus/billing"},{icon:E,label:"Settings",path:"/nexus/settings"}];function Q({state:r,onToggle:n,onSetState:f,isMobile:x}){const[t,o]=w(),[l,d]=i.useState(!0),[h,s]=i.useState(!1);i.useRef(null);const v=r==="open",j=r==="hidden",p=t.startsWith("/nexus/sentinel");i.useEffect(()=>{p&&d(!0)},[p]);const N=()=>{localStorage.removeItem("admin_token"),localStorage.removeItem("admin_user"),o("/admin/login")},m=JSON.parse(localStorage.getItem("admin_user")||"{}"),y=a=>{const u=a.icon,b=t===a.path;return e.jsxs(g,{href:a.path,className:`
          flex items-center gap-3 px-3 py-2.5 rounded-xl transition-all
          ${b?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold shadow-lg shadow-cyan-500/30":"text-white/60 hover:bg-white/10 hover:text-white"}
        `,children:[e.jsx(u,{size:20}),e.jsx("span",{children:a.label})]},a.path)};return e.jsxs("aside",{className:`
      ${x?`fixed inset-y-0 left-0 z-40 w-72 transform transition-transform duration-300 ease-in-out ${v?"translate-x-0":"-translate-x-full"}`:`transition-all duration-300 ease-in-out relative z-20 ${j?"w-0":"w-72"}`}
      bg-slate-900/95 backdrop-blur-xl border-r border-cyan-500/20
      flex flex-col flex-shrink-0 overflow-hidden
    `,children:[e.jsxs("div",{className:"p-4 flex items-center justify-between border-b border-cyan-500/20 min-w-[18rem]",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 bg-gradient-to-br from-cyan-400 to-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(C,{size:22,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500",children:"NEXUS"}),e.jsx("p",{className:"text-xs text-white/50",children:"Operator Panel"})]})]}),e.jsx("button",{onClick:n,className:"p-2 hover:bg-white/10 rounded-lg transition text-white/50 hover:text-white",title:"Retracter le panneau",children:e.jsx(z,{size:20})})]}),e.jsxs("nav",{className:"flex-1 p-3 space-y-1 overflow-y-auto min-w-[18rem]",children:[F.map(y),e.jsxs("div",{className:"pt-3 pb-1",children:[e.jsxs("button",{onClick:()=>d(!l),className:`
              w-full flex items-center gap-3 px-3 py-2.5 rounded-xl transition-all
              ${p?"bg-cyan-500/10 text-cyan-400 border border-cyan-500/20":"text-white/60 hover:bg-white/10 hover:text-white"}
            `,children:[e.jsx($,{size:20}),e.jsx("span",{className:"flex-1 text-left font-medium",children:"SENTINEL"}),l?e.jsx(I,{size:16,className:"text-white/40"}):e.jsx(A,{size:16,className:"text-white/40"})]}),e.jsx("div",{className:`
            overflow-hidden transition-all duration-300 ease-in-out
            ${l?"max-h-[500px] opacity-100":"max-h-0 opacity-0"}
          `,children:e.jsx("div",{className:"ml-5 pl-3 border-l border-cyan-500/15 space-y-0.5 py-1.5",children:W.map(a=>{const u=a.icon,b=t===a.path;return e.jsxs(g,{href:a.path,className:`
                      flex items-center gap-2.5 px-3 py-2 rounded-lg text-sm transition-all
                      ${b?"bg-cyan-500/15 text-cyan-300 font-medium":"text-white/50 hover:bg-white/5 hover:text-white/80"}
                    `,children:[e.jsx(u,{size:16}),e.jsx("span",{children:a.label})]},a.path)})})})]}),e.jsx("div",{className:"py-1",children:e.jsx("div",{className:"border-t border-cyan-500/10"})}),J.map(y)]}),e.jsxs("div",{className:"p-4 border-t border-cyan-500/20 min-w-[18rem]",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-full flex items-center justify-center font-bold text-white shadow-lg shadow-cyan-500/30 flex-shrink-0",children:m.nom?.[0]||"N"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-white truncate",children:m.nom||"Operator"}),e.jsx("p",{className:"text-xs text-white/50 truncate",children:m.email})]})]}),e.jsxs("button",{onClick:N,className:"mt-3 w-full flex items-center gap-2 px-3 py-2 bg-white/5 border border-white/10 hover:bg-red-500/20 hover:border-red-500/30 text-white/70 hover:text-red-400 rounded-xl transition-all",children:[e.jsx(H,{size:18}),e.jsx("span",{children:"Deconnexion"})]})]})]})}function re({children:r}){const[n,f]=i.useState(!1),[x]=w(),[t,o]=i.useState(()=>{if(typeof window<"u"&&window.innerWidth>=768){const s=localStorage.getItem("nexus_sidebar");if(s==="collapsed"||s==="hidden")return s}return"open"}),l=i.useCallback(s=>{o(s),typeof window<"u"&&window.innerWidth>=768&&localStorage.setItem("nexus_sidebar",s)},[]);i.useEffect(()=>{const s=()=>{f(window.innerWidth<768)};return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),i.useEffect(()=>{n&&o("hidden")},[x,n]);const d=i.useCallback(()=>{l(t==="open"?"hidden":"open")},[t,l]),h=i.useCallback(()=>l("open"),[l]);return e.jsxs("div",{className:"flex h-screen bg-slate-950",children:[e.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[e.jsx("div",{className:"absolute top-1/4 right-0 w-96 h-96 bg-cyan-500/5 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-1/4 left-1/3 w-80 h-80 bg-blue-500/5 rounded-full blur-3xl"})]}),n&&t==="open"&&e.jsx("div",{className:"fixed inset-0 bg-black/60 z-30 md:hidden",onClick:()=>o("hidden")}),n&&t!=="open"&&e.jsx("button",{onClick:h,className:"fixed top-4 left-4 z-30 p-3 bg-slate-900/90 backdrop-blur-xl border border-cyan-500/30 rounded-xl text-white md:hidden",children:e.jsx(k,{size:24})}),!n&&t==="hidden"&&e.jsx("button",{onClick:h,className:"fixed top-4 left-4 z-30 p-2.5 bg-slate-900/90 backdrop-blur-xl border border-cyan-500/30 rounded-xl text-cyan-400 hover:text-white hover:border-cyan-400/50 transition-all shadow-lg shadow-cyan-500/10 group",title:"Ouvrir le panneau",children:e.jsx(q,{size:20,className:"group-hover:scale-110 transition-transform"})}),e.jsx(Q,{state:n?t==="open"?"open":"hidden":t,onToggle:d,onSetState:l,isMobile:n}),e.jsx("main",{className:"flex-1 overflow-y-auto relative z-10 w-full",children:e.jsx("div",{className:`p-4 md:p-8 ${n&&t!=="open"?"pt-16":""} ${!n&&t==="hidden"?"pl-12":""}`,children:r})})]})}export{re as N};
