import{r as d,j as e}from"./index-_yXYEqcL.js";import{N as b}from"./NexusLayout-CwIbQ1JF.js";import"./hexagon-DZpsxAWV.js";import"./panel-left-close-C4ECLCua.js";import"./settings-BkyowQvs.js";import"./users-DLPfMp13.js";import"./credit-card-BzWzjUVE.js";import"./shield-DwVSybTP.js";import"./chevron-right-DPdOXaL5.js";import"./chart-column-eauyrf0D.js";import"./activity-ZIepOcem.js";import"./dollar-sign-BiCuoXDd.js";import"./brain-C9qc7Lcl.js";import"./log-out-CvuSphzZ.js";const f=[{name:"Starter",price:99,color:"cyan",features:["Reservations multi-canal","IA telephone (Halimah)","Dashboard admin","Notifications SMS","Rappels J-1"]},{name:"Pro",price:199,color:"blue",popular:!0,features:["Tout Starter +","Comptabilite","Marketing SMS/Email","Medias IA","Reseaux sociaux"]},{name:"Business",price:399,color:"purple",features:["Tout Pro +","SEO","Gestion RH","Sentinel client","Support prioritaire"]}];function R(){const[t,l]=d.useState(null),[i,r]=d.useState(0);d.useEffect(()=>{const s=async()=>{try{const m=localStorage.getItem("admin_token"),u=await fetch("/api/nexus/sentinel/status",{headers:{Authorization:`Bearer ${m}`}});if(u.ok){const x=await u.json();l(x),r(x.uptime||0)}}catch{}};s();const a=setInterval(s,15e3);return()=>clearInterval(a)},[]),d.useEffect(()=>{const s=setInterval(()=>r(a=>a+1),1e3);return()=>clearInterval(s)},[]);const n=s=>{const a=Math.floor(s/86400),m=Math.floor(s%86400/3600),u=Math.floor(s%3600/60),x=s%60;return a>0?`${a}j ${m}h ${u}m`:`${m}h ${u}m ${x}s`},o=s=>s?`${(s/1024/1024).toFixed(0)} MB`:"N/A",c=t?.memory?Math.round(t.memory.heapUsed/t.memory.heapTotal*100):0;return e.jsx(b,{children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx("h1",{className:"text-xl md:text-2xl font-bold text-white mb-6",children:"Parametres NEXUS"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"font-semibold text-white mb-4",children:"Plans tarifaires"}),e.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:f.map((s,a)=>e.jsx(j,{plan:s,delay:a*150},s.name))})]}),e.jsxs("div",{className:"bg-slate-900 rounded-lg border border-slate-800 mb-6 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"font-semibold text-white",children:"Systeme"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${t?.status==="healthy"?"bg-green-400":"bg-yellow-400"} animate-pulse`}),e.jsx("span",{className:"text-xs text-slate-500",children:t?.status==="healthy"?"Healthy":"Checking..."})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(h,{label:"Environnement",value:t?.status==="healthy"?"Production":"Dev",icon:e.jsx("div",{className:`w-2 h-2 rounded-full ${t?.status==="healthy"?"bg-green-500":"bg-yellow-500"}`})}),e.jsx(h,{label:"Uptime",value:n(i),live:!0}),e.jsx(h,{label:"Memoire Heap",value:`${o(t?.memory?.heapUsed)} / ${o(t?.memory?.heapTotal)}`,bar:c,barColor:c>80?"#ef4444":c>60?"#eab308":"#22d3ee"}),e.jsx(h,{label:"Tenants actifs",value:String(t?.tenants??"---")})]})]}),e.jsxs("div",{className:"bg-slate-900 rounded-lg border border-slate-800 p-4",children:[e.jsx("h2",{className:"font-semibold text-white mb-4",children:"Notifications"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(p,{label:"Alertes email (quota depasse)",defaultOn:!0,description:"Notification quand un tenant depasse 80% de son quota"}),e.jsx(p,{label:"Alertes SMS (systeme down)",defaultOn:!1,description:"SMS d'urgence si un service critique tombe"}),e.jsx(p,{label:"Rapport hebdomadaire",defaultOn:!0,description:"Resume automatique chaque lundi a 9h"}),e.jsx(p,{label:"Alertes Sentinel",defaultOn:!0,description:"Notifications en temps reel des anomalies detectees"})]})]})]})})}function j({plan:t,delay:l}){const[i,r]=d.useState(!1);d.useEffect(()=>{setTimeout(()=>r(!0),l)},[l]);const n={cyan:"border-cyan-800",blue:"border-blue-800",purple:"border-purple-800"},o={cyan:"text-cyan-400",blue:"text-blue-400",purple:"text-purple-400"},c={cyan:"hover:shadow-cyan-500/10",blue:"hover:shadow-blue-500/10",purple:"hover:shadow-purple-500/10"},s={cyan:"bg-cyan-400",blue:"bg-blue-400",purple:"bg-purple-400"};return e.jsxs("div",{className:`bg-slate-900 rounded-lg border ${n[t.color]} p-4 transition-all duration-500 hover:shadow-lg ${c[t.color]} ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,style:{transitionDelay:`${l}ms`},children:[t.popular&&e.jsx("div",{className:"text-[10px] text-blue-400 uppercase tracking-wider mb-2 font-bold",children:"Le plus populaire"}),e.jsxs("div",{className:"flex items-baseline justify-between mb-3",children:[e.jsx("h3",{className:`font-bold text-lg ${o[t.color]}`,children:t.name}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-white text-2xl font-bold",children:[t.price,"â‚¬"]}),e.jsx("span",{className:"text-sm text-slate-500",children:"/mois"})]})]}),e.jsx("ul",{className:"space-y-2",children:t.features.map((a,m)=>e.jsxs("li",{className:"text-sm text-slate-400 flex items-center gap-2",style:{opacity:i?1:0,transition:`opacity 300ms ${l+m*80}ms`},children:[e.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${s[t.color]}`}),a]},a))})]})}function h({label:t,value:l,icon:i,live:r,bar:n,barColor:o}){return e.jsxs("div",{children:[e.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-1.5 mb-1",children:[i,t,r&&e.jsx("span",{className:"text-[8px] text-green-500 font-mono animate-pulse",children:"LIVE"})]}),e.jsx("div",{className:"text-sm text-white font-medium font-mono",children:l}),n!=null&&e.jsx("div",{className:"h-1.5 bg-slate-800 rounded-full mt-1.5 overflow-hidden",children:e.jsx("div",{className:"h-full rounded-full transition-all duration-700",style:{width:`${n}%`,backgroundColor:o}})})]})}function p({label:t,defaultOn:l,description:i}){const[r,n]=d.useState(l),[o,c]=d.useState(!1),s=()=>{n(!r),c(!0),setTimeout(()=>c(!1),600)};return e.jsxs("div",{className:`flex items-center justify-between rounded-lg px-3 py-2 -mx-3 transition ${o?"bg-slate-800/50":"hover:bg-slate-800/20"}`,children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-slate-300",children:t}),i&&e.jsx("div",{className:"text-[10px] text-slate-600 mt-0.5",children:i})]}),e.jsx("button",{onClick:s,className:`w-11 h-6 rounded-full transition-all relative ${r?"bg-cyan-600 shadow-[0_0_8px_rgba(34,211,238,0.3)]":"bg-slate-700"}`,children:e.jsx("span",{className:`absolute top-1 w-4 h-4 rounded-full bg-white transition-all shadow-sm ${r?"left-6":"left-1"} ${o?"scale-110":""}`})})]})}export{R as default};
