import{r,j as e}from"./index-_yXYEqcL.js";import{N as p}from"./NexusLayout-CwIbQ1JF.js";import"./hexagon-DZpsxAWV.js";import"./panel-left-close-C4ECLCua.js";import"./settings-BkyowQvs.js";import"./users-DLPfMp13.js";import"./credit-card-BzWzjUVE.js";import"./shield-DwVSybTP.js";import"./chevron-right-DPdOXaL5.js";import"./chart-column-eauyrf0D.js";import"./activity-ZIepOcem.js";import"./dollar-sign-BiCuoXDd.js";import"./brain-C9qc7Lcl.js";import"./log-out-CvuSphzZ.js";function k(){const[s,a]=r.useState([]),[l,c]=r.useState(!0),[n,d]=r.useState(null);return r.useEffect(()=>{(async()=>{try{const i=localStorage.getItem("admin_token"),x=await fetch("/api/nexus/tenants",{headers:{Authorization:`Bearer ${i}`}});if(!x.ok)throw new Error("Erreur API");const o=await x.json();a(o.tenants)}catch{d("Erreur chargement des tenants")}finally{c(!1)}})()},[]),e.jsx(p,{children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-xl md:text-2xl font-bold text-white",children:"Tenants"}),e.jsx("button",{disabled:!0,className:"px-4 py-2 bg-cyan-600/30 border border-cyan-500/30 text-cyan-400 rounded-lg text-sm cursor-not-allowed opacity-60",children:"+ Ajouter tenant"})]}),l&&e.jsx("div",{className:"text-slate-400",children:"Chargement..."}),n&&e.jsx("div",{className:"text-red-400",children:n}),!l&&!n&&e.jsx("div",{className:"bg-slate-900 rounded-lg border border-slate-800 overflow-x-auto",children:e.jsxs("table",{className:"w-full min-w-[600px]",children:[e.jsx("thead",{className:"bg-slate-800/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm text-slate-400",children:"Tenant"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm text-slate-400",children:"Plan"}),e.jsx("th",{className:"px-4 py-3 text-center text-sm text-slate-400",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-right text-sm text-slate-400",children:"Appels"}),e.jsx("th",{className:"px-4 py-3 text-right text-sm text-slate-400",children:"Coût"}),e.jsx("th",{className:"px-4 py-3 text-right text-sm text-slate-400",children:"Quota"}),e.jsx("th",{className:"px-4 py-3 text-center text-sm text-slate-400",children:"Santé"})]})}),e.jsxs("tbody",{children:[s.map(t=>e.jsxs("tr",{className:"border-t border-slate-800 hover:bg-slate-800/30 transition",children:[e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("div",{className:"font-medium text-white",children:t.name}),e.jsx("div",{className:"text-xs text-slate-500",children:t.id})]}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"px-2 py-1 rounded text-xs bg-slate-800 text-slate-300 capitalize",children:t.plan})}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-900/50 text-green-400 border border-green-800",children:"Actif"})}),e.jsx("td",{className:"px-4 py-3 text-right text-slate-300",children:t.usage.calls}),e.jsxs("td",{className:"px-4 py-3 text-right text-slate-300",children:[t.usage.cost.toFixed(4),"€"]}),e.jsxs("td",{className:"px-4 py-3 text-right text-slate-300",children:[t.quota.percentage,"%"]}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx(m,{status:t.quota.status})})]},t.id)),s.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-slate-500",children:"Aucun tenant"})})]})]})})]})})}function m({status:s}){const a={ok:"bg-green-900/50 text-green-400 border-green-800",warning:"bg-yellow-900/50 text-yellow-400 border-yellow-800",critical:"bg-red-900/50 text-red-400 border-red-800"};return e.jsx("span",{className:`px-2 py-1 rounded text-xs border ${a[s]||a.ok}`,children:s.toUpperCase()})}export{k as default};
