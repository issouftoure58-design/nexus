import{b as g,a as y,r as n,j as e,d as c,B as p}from"./index-_yXYEqcL.js";import{N as C}from"./navigation-CIqCX6Su.js";import{I as o}from"./input-TVuV-KxK.js";import{L as r}from"./label-BdSUWGgM.js";import{C as z}from"./checkbox-PcQ3ZBMX.js";import{U as u}from"./user-plus-D-GPpyUV.js";import{G as P}from"./gift-xaN3R6ak.js";import{U as k}from"./user-Ai5-1aUm.js";import{M as E}from"./mail-N-gOIhL7.js";import{P as L}from"./phone-DqBiH1an.js";import{L as w}from"./lock-CdiT9bM9.js";import{E as S}from"./eye-off-DIw5pcxB.js";import{E as F}from"./eye-CvXJPXHv.js";import{A as q}from"./arrow-right-Dc_jlRSV.js";import"./shopping-bag-CEo4UOGG.js";import"./check-B1pij6wq.js";function W(){const[,f]=g(),{toast:i}=y(),[m,h]=n.useState(!1),[l,j]=n.useState(!1),[x,v]=n.useState(!1),[s,a]=n.useState({nom:"",prenom:"",email:"",telephone:"",password:"",confirmPassword:""}),N=async t=>{if(t.preventDefault(),s.password!==s.confirmPassword){i({title:"Erreur",description:"Les mots de passe ne correspondent pas",variant:"destructive"});return}if(!x){i({title:"Erreur",description:"Veuillez accepter les conditions générales",variant:"destructive"});return}h(!0);try{const d=await fetch("/api/client/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nom:s.nom,prenom:s.prenom,email:s.email,telephone:s.telephone,password:s.password})}),b=await d.json();if(!d.ok)throw new Error(b.error||"Erreur lors de l'inscription");i({title:"Inscription réussie !",description:`Vous avez reçu ${b.bonusPoints} points de bienvenue ! Vérifiez votre email.`}),f("/mon-compte/connexion")}catch(d){i({title:"Erreur",description:d.message,variant:"destructive"})}finally{h(!1)}};return e.jsxs("div",{className:"min-h-screen bg-zinc-950",children:[e.jsx(C,{}),e.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[e.jsx("div",{className:"absolute inset-0 african-pattern opacity-5"}),e.jsx("div",{className:"absolute top-1/4 right-0 w-96 h-96 bg-amber-500/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-1/4 left-0 w-80 h-80 bg-orange-500/10 rounded-full blur-3xl"})]}),e.jsx("div",{className:"fixed top-0 left-0 right-0 h-4 bg-black z-30"}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 h-4 bg-black z-30"}),e.jsx("div",{className:"fixed top-8 left-6 w-12 h-12 border-l-2 border-t-2 border-amber-500/30 z-20"}),e.jsx("div",{className:"fixed top-8 right-6 w-12 h-12 border-r-2 border-t-2 border-amber-500/30 z-20"}),e.jsx("div",{className:"fixed bottom-8 left-6 w-12 h-12 border-l-2 border-b-2 border-amber-500/30 z-20"}),e.jsx("div",{className:"fixed bottom-8 right-6 w-12 h-12 border-r-2 border-b-2 border-amber-500/30 z-20"}),e.jsx("main",{className:"relative z-10 flex items-center justify-center min-h-screen px-4 pt-20 pb-12",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-amber-500/20 backdrop-blur-sm rounded-full border border-amber-500/30 mb-6",children:[e.jsx(u,{className:"h-4 w-4 text-amber-400"}),e.jsx("span",{className:"text-amber-300 text-sm font-medium",children:"Inscription"})]}),e.jsxs("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:[e.jsx("span",{className:"text-white",children:"Créer votre "}),e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-amber-400 to-orange-500",children:"compte fidélité"})]}),e.jsx("p",{className:"text-white/60",children:"Rejoignez Fat's Hair-Afro et profitez d'avantages exclusifs"})]}),e.jsxs("div",{className:"mb-6 bg-gradient-to-r from-amber-500/20 to-orange-500/20 border border-amber-500/30 rounded-2xl p-4 flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-amber-500 rounded-xl",children:e.jsx(P,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-amber-300 font-semibold",children:"50 points offerts"}),e.jsx("p",{className:"text-white/60 text-sm",children:"Bonus de bienvenue à l'inscription"})]})]}),e.jsxs("div",{className:"relative bg-white/5 backdrop-blur-sm border border-white/10 rounded-3xl p-8 overflow-hidden",children:[e.jsx("div",{className:"absolute top-4 left-4 w-6 h-6 border-l-2 border-t-2 border-amber-500/50 rounded-tl-lg"}),e.jsx("div",{className:"absolute top-4 right-4 w-6 h-6 border-r-2 border-t-2 border-amber-500/50 rounded-tr-lg"}),e.jsx("div",{className:"absolute bottom-4 left-4 w-6 h-6 border-l-2 border-b-2 border-amber-500/50 rounded-bl-lg"}),e.jsx("div",{className:"absolute bottom-4 right-4 w-6 h-6 border-r-2 border-b-2 border-amber-500/50 rounded-br-lg"}),e.jsxs("form",{onSubmit:N,className:"space-y-5",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"nom",className:"text-white/80",children:"Nom *"}),e.jsxs("div",{className:"relative",children:[e.jsx(k,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-white/40"}),e.jsx(o,{id:"nom",placeholder:"Diallo",value:s.nom,onChange:t=>a({...s,nom:t.target.value}),className:"pl-10 bg-white/5 border-white/10 text-white placeholder:text-white/30 focus:border-amber-500/50",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"prenom",className:"text-white/80",children:"Prénom"}),e.jsx(o,{id:"prenom",placeholder:"Aminata",value:s.prenom,onChange:t=>a({...s,prenom:t.target.value}),className:"bg-white/5 border-white/10 text-white placeholder:text-white/30 focus:border-amber-500/50"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"email",className:"text-white/80",children:"Email *"}),e.jsxs("div",{className:"relative",children:[e.jsx(E,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-white/40"}),e.jsx(o,{id:"email",type:"email",placeholder:"votre@email.com",value:s.email,onChange:t=>a({...s,email:t.target.value}),className:"pl-10 bg-white/5 border-white/10 text-white placeholder:text-white/30 focus:border-amber-500/50",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"telephone",className:"text-white/80",children:"Téléphone *"}),e.jsxs("div",{className:"relative",children:[e.jsx(L,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-white/40"}),e.jsx(o,{id:"telephone",type:"tel",placeholder:"06 12 34 56 78",value:s.telephone,onChange:t=>a({...s,telephone:t.target.value}),className:"pl-10 bg-white/5 border-white/10 text-white placeholder:text-white/30 focus:border-amber-500/50",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"password",className:"text-white/80",children:"Mot de passe *"}),e.jsxs("div",{className:"relative",children:[e.jsx(w,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-white/40"}),e.jsx(o,{id:"password",type:l?"text":"password",placeholder:"Min. 8 caractères",value:s.password,onChange:t=>a({...s,password:t.target.value}),className:"pl-10 pr-10 bg-white/5 border-white/10 text-white placeholder:text-white/30 focus:border-amber-500/50",required:!0}),e.jsx("button",{type:"button",onClick:()=>j(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-white/40 hover:text-white/60",children:l?e.jsx(S,{className:"h-5 w-5"}):e.jsx(F,{className:"h-5 w-5"})})]}),e.jsx("p",{className:"text-white/40 text-xs",children:"Au moins 8 caractères avec 1 chiffre et 1 lettre"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"confirmPassword",className:"text-white/80",children:"Confirmer le mot de passe *"}),e.jsxs("div",{className:"relative",children:[e.jsx(w,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-white/40"}),e.jsx(o,{id:"confirmPassword",type:l?"text":"password",placeholder:"Confirmez votre mot de passe",value:s.confirmPassword,onChange:t=>a({...s,confirmPassword:t.target.value}),className:"pl-10 bg-white/5 border-white/10 text-white placeholder:text-white/30 focus:border-amber-500/50",required:!0})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(z,{id:"terms",checked:x,onCheckedChange:t=>v(t),className:"mt-1 border-white/30 data-[state=checked]:bg-amber-500 data-[state=checked]:border-amber-500"}),e.jsxs(r,{htmlFor:"terms",className:"text-white/60 text-sm leading-relaxed",children:["J'accepte les"," ",e.jsx(c,{href:"/cgv",className:"text-amber-400 hover:underline",children:"conditions générales"})," ","et la"," ",e.jsx(c,{href:"/confidentialite",className:"text-amber-400 hover:underline",children:"politique de confidentialité"})]})]}),e.jsx(p,{type:"submit",disabled:m,className:"w-full h-12 bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 text-white shadow-lg shadow-amber-500/30",children:m?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-5 w-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Création en cours..."]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(u,{className:"h-5 w-5"}),"Créer mon compte"]})})]}),e.jsxs("div",{className:"flex items-center gap-4 my-6",children:[e.jsx("div",{className:"flex-1 h-px bg-white/10"}),e.jsx("span",{className:"text-white/40 text-sm",children:"ou"}),e.jsx("div",{className:"flex-1 h-px bg-white/10"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-white/60 mb-4",children:"Vous avez déjà un compte ?"}),e.jsx(c,{href:"/mon-compte/connexion",children:e.jsxs(p,{variant:"outline",className:"border-white/20 bg-white/5 text-white hover:bg-white/10 hover:border-amber-500/30",children:["Se connecter",e.jsx(q,{className:"ml-2 h-4 w-4"})]})})]})]})]})})]})}export{W as default};
