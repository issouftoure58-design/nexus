import{c as Gr,r as c,h as et,x as qr,j as e,P as je,l as ne,f as tt,g as Pt,e as Br,i as Kr,y as Wr,o as rt,R as C,B as D,L as ce,p as J,C as Jr,u as Hr,a as Yr,b as Xr,z as M,A as $,d as me,H as Zr,E as qe,F as Be}from"./index-_yXYEqcL.js";import{I as se}from"./input-TVuV-KxK.js";import{L as T}from"./label-BdSUWGgM.js";import{u as Qr}from"./index-Bnnaxkru.js";import{u as es,C as ts}from"./checkbox-PcQ3ZBMX.js";import{N as rs}from"./navigation-CIqCX6Su.js";import{F as ss}from"./footer-BQtg2-cU.js";import{P as S}from"./index-BwpFS_hM.js";import{L as Te}from"./lock-CdiT9bM9.js";import{C as He}from"./credit-card-BzWzjUVE.js";import{M as Pe}from"./map-pin-lQiNTdD_.js";import{S as pt}from"./shopping-bag-CEo4UOGG.js";import{C as Ke}from"./calendar-NWhThMGY.js";import{U as ft}from"./user-Ai5-1aUm.js";import{C as we}from"./circle-check-DHSvjqNQ.js";import{T as ns}from"./trash-2-CXbRkBbN.js";import{A as De}from"./arrow-right-Dc_jlRSV.js";import{A as Se}from"./arrow-left-BsOgyces.js";import{C as as}from"./clock-xh9IAeUk.js";import{L as ht}from"./log-in-C2KOzuIL.js";import{U as xt}from"./user-plus-D-GPpyUV.js";import{M as vt}from"./mail-N-gOIhL7.js";import{E as gt}from"./eye-off-DIw5pcxB.js";import{E as jt}from"./eye-CvXJPXHv.js";import{G as is}from"./gift-xaN3R6ak.js";import{P as os}from"./phone-DqBiH1an.js";import"./check-B1pij6wq.js";import"./car-DasvkYGK.js";import"./instagram-HBzeWPol.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=Gr("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var ls=c.createContext(void 0);function Rt(t){const r=c.useContext(ls);return t||r||"ltr"}var We="rovingFocusGroup.onEntryFocus",ds={bubbles:!1,cancelable:!0},Me="RovingFocusGroup",[Ye,kt,us]=qr(Me),[ms,zt]=et(Me,[us]),[ps,fs]=ms(Me),It=c.forwardRef((t,r)=>e.jsx(Ye.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(Ye.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(hs,{...t,ref:r})})}));It.displayName=Me;var hs=c.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:s,orientation:n,loop:i=!1,dir:o,currentTabStopId:m,defaultCurrentTabStopId:v,onCurrentTabStopIdChange:l,onEntryFocus:x,preventScrollOnEntryFocus:g=!1,...b}=t,u=c.useRef(null),j=tt(r,u),d=Rt(o),[f=null,w]=Pt({prop:m,defaultProp:v,onChange:l}),[y,k]=c.useState(!1),N=Br(x),R=kt(s),H=c.useRef(!1),[X,F]=c.useState(0);return c.useEffect(()=>{const A=u.current;if(A)return A.addEventListener(We,N),()=>A.removeEventListener(We,N)},[N]),e.jsx(ps,{scope:s,orientation:n,dir:d,loop:i,currentTabStopId:f,onItemFocus:c.useCallback(A=>w(A),[w]),onItemShiftTab:c.useCallback(()=>k(!0),[]),onFocusableItemAdd:c.useCallback(()=>F(A=>A+1),[]),onFocusableItemRemove:c.useCallback(()=>F(A=>A-1),[]),children:e.jsx(je.div,{tabIndex:y||X===0?-1:0,"data-orientation":n,...b,ref:j,style:{outline:"none",...t.style},onMouseDown:ne(t.onMouseDown,()=>{H.current=!0}),onFocus:ne(t.onFocus,A=>{const G=!H.current;if(A.target===A.currentTarget&&G&&!y){const ee=new CustomEvent(We,ds);if(A.currentTarget.dispatchEvent(ee),!ee.defaultPrevented){const te=R().filter(K=>K.focusable),re=te.find(K=>K.active),Y=te.find(K=>K.id===f),z=[re,Y,...te].filter(Boolean).map(K=>K.ref.current);At(z,g)}}H.current=!1}),onBlur:ne(t.onBlur,()=>k(!1))})})}),Dt="RovingFocusGroupItem",Ft=c.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:s,focusable:n=!0,active:i=!1,tabStopId:o,...m}=t,v=Qr(),l=o||v,x=fs(Dt,s),g=x.currentTabStopId===l,b=kt(s),{onFocusableItemAdd:u,onFocusableItemRemove:j}=x;return c.useEffect(()=>{if(n)return u(),()=>j()},[n,u,j]),e.jsx(Ye.ItemSlot,{scope:s,id:l,focusable:n,active:i,children:e.jsx(je.span,{tabIndex:g?0:-1,"data-orientation":x.orientation,...m,ref:r,onMouseDown:ne(t.onMouseDown,d=>{n?x.onItemFocus(l):d.preventDefault()}),onFocus:ne(t.onFocus,()=>x.onItemFocus(l)),onKeyDown:ne(t.onKeyDown,d=>{if(d.key==="Tab"&&d.shiftKey){x.onItemShiftTab();return}if(d.target!==d.currentTarget)return;const f=gs(d,x.orientation,x.dir);if(f!==void 0){if(d.metaKey||d.ctrlKey||d.altKey||d.shiftKey)return;d.preventDefault();let y=b().filter(k=>k.focusable).map(k=>k.ref.current);if(f==="last")y.reverse();else if(f==="prev"||f==="next"){f==="prev"&&y.reverse();const k=y.indexOf(d.currentTarget);y=x.loop?js(y,k+1):y.slice(k+1)}setTimeout(()=>At(y))}})})})});Ft.displayName=Dt;var xs={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function vs(t,r){return r!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function gs(t,r,s){const n=vs(t.key,s);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return xs[n]}function At(t,r=!1){const s=document.activeElement;for(const n of t)if(n===s||(n.focus({preventScroll:r}),document.activeElement!==s))return}function js(t,r){return t.map((s,n)=>t[(r+n)%t.length])}var bs=It,ys=Ft,st="Radio",[Ns,Tt]=et(st),[ws,Ss]=Ns(st),Ot=c.forwardRef((t,r)=>{const{__scopeRadio:s,name:n,checked:i=!1,required:o,disabled:m,value:v="on",onCheck:l,form:x,...g}=t,[b,u]=c.useState(null),j=tt(r,w=>u(w)),d=c.useRef(!1),f=b?x||!!b.closest("form"):!0;return e.jsxs(ws,{scope:s,checked:i,disabled:m,children:[e.jsx(je.button,{type:"button",role:"radio","aria-checked":i,"data-state":Mt(i),"data-disabled":m?"":void 0,disabled:m,value:v,...g,ref:j,onClick:ne(t.onClick,w=>{i||l?.(),f&&(d.current=w.isPropagationStopped(),d.current||w.stopPropagation())})}),f&&e.jsx(Cs,{control:b,bubbles:!d.current,name:n,value:v,checked:i,required:o,disabled:m,form:x,style:{transform:"translateX(-100%)"}})]})});Ot.displayName=st;var _t="RadioIndicator",Lt=c.forwardRef((t,r)=>{const{__scopeRadio:s,forceMount:n,...i}=t,o=Ss(_t,s);return e.jsx(Kr,{present:n||o.checked,children:e.jsx(je.span,{"data-state":Mt(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:r})})});Lt.displayName=_t;var Cs=t=>{const{control:r,checked:s,bubbles:n=!0,...i}=t,o=c.useRef(null),m=es(s),v=Wr(r);return c.useEffect(()=>{const l=o.current,x=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(x,"checked").set;if(m!==s&&b){const u=new Event("click",{bubbles:n});b.call(l,s),l.dispatchEvent(u)}},[m,s,n]),e.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:s,...i,tabIndex:-1,ref:o,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Mt(t){return t?"checked":"unchecked"}var Es=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],nt="RadioGroup",[Ps]=et(nt,[zt,Tt]),$t=zt(),Ut=Tt(),[Rs,ks]=Ps(nt),Vt=c.forwardRef((t,r)=>{const{__scopeRadioGroup:s,name:n,defaultValue:i,value:o,required:m=!1,disabled:v=!1,orientation:l,dir:x,loop:g=!0,onValueChange:b,...u}=t,j=$t(s),d=Rt(x),[f,w]=Pt({prop:o,defaultProp:i,onChange:b});return e.jsx(Rs,{scope:s,name:n,required:m,disabled:v,value:f,onValueChange:w,children:e.jsx(bs,{asChild:!0,...j,orientation:l,dir:d,loop:g,children:e.jsx(je.div,{role:"radiogroup","aria-required":m,"aria-orientation":l,"data-disabled":v?"":void 0,dir:d,...u,ref:r})})})});Vt.displayName=nt;var Gt="RadioGroupItem",qt=c.forwardRef((t,r)=>{const{__scopeRadioGroup:s,disabled:n,...i}=t,o=ks(Gt,s),m=o.disabled||n,v=$t(s),l=Ut(s),x=c.useRef(null),g=tt(r,x),b=o.value===i.value,u=c.useRef(!1);return c.useEffect(()=>{const j=f=>{Es.includes(f.key)&&(u.current=!0)},d=()=>u.current=!1;return document.addEventListener("keydown",j),document.addEventListener("keyup",d),()=>{document.removeEventListener("keydown",j),document.removeEventListener("keyup",d)}},[]),e.jsx(ys,{asChild:!0,...v,focusable:!m,active:b,children:e.jsx(Ot,{disabled:m,required:o.required,checked:b,...l,...i,name:o.name,ref:g,onCheck:()=>o.onValueChange(i.value),onKeyDown:ne(j=>{j.key==="Enter"&&j.preventDefault()}),onFocus:ne(i.onFocus,()=>{u.current&&x.current?.click()})})})});qt.displayName=Gt;var zs="RadioGroupIndicator",Bt=c.forwardRef((t,r)=>{const{__scopeRadioGroup:s,...n}=t,i=Ut(s);return e.jsx(Lt,{...i,...n,ref:r})});Bt.displayName=zs;var Kt=Vt,Wt=qt,Is=Bt;const Xe=c.forwardRef(({className:t,...r},s)=>e.jsx(Kt,{className:rt("grid gap-2",t),...r,ref:s}));Xe.displayName=Kt.displayName;const ve=c.forwardRef(({className:t,...r},s)=>e.jsx(Wt,{ref:s,className:rt("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...r,children:e.jsx(Is,{className:"flex items-center justify-center",children:e.jsx(cs,{className:"h-2.5 w-2.5 fill-current text-current"})})}));ve.displayName=Wt.displayName;var Ds="Separator",bt="horizontal",Fs=["horizontal","vertical"],Jt=c.forwardRef((t,r)=>{const{decorative:s,orientation:n=bt,...i}=t,o=As(n)?n:bt,v=s?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return e.jsx(je.div,{"data-orientation":o,...v,...i,ref:r})});Jt.displayName=Ds;function As(t){return Fs.includes(t)}var Ht=Jt;const Oe=c.forwardRef(({className:t,orientation:r="horizontal",decorative:s=!0,...n},i)=>e.jsx(Ht,{ref:i,decorative:s,orientation:r,className:rt("shrink-0 bg-border",r==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));Oe.displayName=Ht.displayName;function yt(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),s.push.apply(s,n)}return s}function Nt(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?yt(Object(s),!0).forEach(function(n){Yt(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):yt(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function _e(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_e=function(r){return typeof r}:_e=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_e(t)}function Yt(t,r,s){return r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Ts(t,r){if(t==null)return{};var s={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(r.indexOf(i)>=0)&&(s[i]=t[i]);return s}function Os(t,r){if(t==null)return{};var s=Ts(t,r),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function Xt(t,r){return _s(t)||Ls(t,r)||Ms(t,r)||$s()}function _s(t){if(Array.isArray(t))return t}function Ls(t,r){var s=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(s!=null){var n=[],i=!0,o=!1,m,v;try{for(s=s.call(t);!(i=(m=s.next()).done)&&(n.push(m.value),!(r&&n.length===r));i=!0);}catch(l){o=!0,v=l}finally{try{!i&&s.return!=null&&s.return()}finally{if(o)throw v}}return n}}function Ms(t,r){if(t){if(typeof t=="string")return wt(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return wt(t,r)}}function wt(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,n=new Array(r);s<r;s++)n[s]=t[s];return n}function $s(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var L=function(r,s,n){var i=!!n,o=C.useRef(n);C.useEffect(function(){o.current=n},[n]),C.useEffect(function(){if(!i||!r)return function(){};var m=function(){o.current&&o.current.apply(o,arguments)};return r.on(s,m),function(){r.off(s,m)}},[i,s,r,o])},Ze=function(r){var s=C.useRef(r);return C.useEffect(function(){s.current=r},[r]),s.current},ge=function(r){return r!==null&&_e(r)==="object"},Us=function(r){return ge(r)&&typeof r.then=="function"},Vs=function(r){return ge(r)&&typeof r.elements=="function"&&typeof r.createToken=="function"&&typeof r.createPaymentMethod=="function"&&typeof r.confirmCardPayment=="function"},St="[object Object]",Gs=function t(r,s){if(!ge(r)||!ge(s))return r===s;var n=Array.isArray(r),i=Array.isArray(s);if(n!==i)return!1;var o=Object.prototype.toString.call(r)===St,m=Object.prototype.toString.call(s)===St;if(o!==m)return!1;if(!o&&!n)return r===s;var v=Object.keys(r),l=Object.keys(s);if(v.length!==l.length)return!1;for(var x={},g=0;g<v.length;g+=1)x[v[g]]=!0;for(var b=0;b<l.length;b+=1)x[l[b]]=!0;var u=Object.keys(x);if(u.length!==v.length)return!1;var j=r,d=s,f=function(y){return t(j[y],d[y])};return u.every(f)},Zt=function(r,s,n){return ge(r)?Object.keys(r).reduce(function(i,o){var m=!ge(s)||!Gs(r[o],s[o]);return n.includes(o)?(m&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),i):m?Nt(Nt({},i||{}),{},Yt({},o,r[o])):i},null):null},Qt="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Ct=function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qt;if(r===null||Vs(r))return r;throw new Error(s)},qs=function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qt;if(Us(r))return{tag:"async",stripePromise:Promise.resolve(r).then(function(i){return Ct(i,s)})};var n=Ct(r,s);return n===null?{tag:"empty"}:{tag:"sync",stripe:n}},Bs=function(r){!r||!r._registerWrapper||!r.registerAppInfo||(r._registerWrapper({name:"react-stripe-js",version:"5.4.1"}),r.registerAppInfo({name:"react-stripe-js",version:"5.4.1",url:"https://stripe.com/docs/stripe-js/react"}))},$e=C.createContext(null);$e.displayName="ElementsContext";var er=function(r,s){if(!r)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(s," in an <Elements> provider."));return r},tr=function(r){var s=r.stripe,n=r.options,i=r.children,o=C.useMemo(function(){return qs(s)},[s]),m=C.useState(function(){return{stripe:o.tag==="sync"?o.stripe:null,elements:o.tag==="sync"?o.stripe.elements(n):null}}),v=Xt(m,2),l=v[0],x=v[1];C.useEffect(function(){var u=!0,j=function(f){x(function(w){return w.stripe?w:{stripe:f,elements:f.elements(n)}})};return o.tag==="async"&&!l.stripe?o.stripePromise.then(function(d){d&&u&&j(d)}):o.tag==="sync"&&!l.stripe&&j(o.stripe),function(){u=!1}},[o,l,n]);var g=Ze(s);C.useEffect(function(){g!==null&&g!==s&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[g,s]);var b=Ze(n);return C.useEffect(function(){if(l.elements){var u=Zt(n,b,["clientSecret","fonts"]);u&&l.elements.update(u)}},[n,b,l.elements]),C.useEffect(function(){Bs(l.stripe)},[l.stripe]),C.createElement($e.Provider,{value:l},i)};tr.propTypes={stripe:S.any,options:S.object};var Ks=function(r){var s=C.useContext($e);return er(s,r)},Ws=function(){var r=Ks("calls useElements()"),s=r.elements;return s};S.func.isRequired;var rr=C.createContext(null);rr.displayName="CheckoutContext";S.any,S.shape({clientSecret:S.oneOfType([S.string,S.instanceOf(Promise)]).isRequired,elementsOptions:S.object}).isRequired;var Qe=function(r){var s=C.useContext(rr),n=C.useContext($e);if(s){if(n)throw new Error("You cannot wrap the part of your app that ".concat(r," in both <CheckoutProvider> and <Elements> providers."));return s}else return er(n,r)},Js=["mode"],Hs=function(r){return r.charAt(0).toUpperCase()+r.slice(1)},U=function(r,s){var n="".concat(Hs(r),"Element"),i=function(l){var x=l.id,g=l.className,b=l.options,u=b===void 0?{}:b,j=l.onBlur,d=l.onFocus,f=l.onReady,w=l.onChange,y=l.onEscape,k=l.onClick,N=l.onLoadError,R=l.onLoaderStart,H=l.onNetworksChange,X=l.onConfirm,F=l.onCancel,A=l.onShippingAddressChange,G=l.onShippingRateChange,ee=l.onSavedPaymentMethodRemove,te=l.onSavedPaymentMethodUpdate,re=Qe("mounts <".concat(n,">")),Y="elements"in re?re.elements:null,q="checkoutState"in re?re.checkoutState:null,z=q?.type==="success"||q?.type==="loading"?q.sdk:null,K=C.useState(null),be=Xt(K,2),O=be[0],le=be[1],W=C.useRef(null),E=C.useRef(null);L(O,"blur",j),L(O,"focus",d),L(O,"escape",y),L(O,"click",k),L(O,"loaderror",N),L(O,"loaderstart",R),L(O,"networkschange",H),L(O,"confirm",X),L(O,"cancel",F),L(O,"shippingaddresschange",A),L(O,"shippingratechange",G),L(O,"savedpaymentmethodremove",ee),L(O,"savedpaymentmethodupdate",te),L(O,"change",w);var Z;f&&(r==="expressCheckout"?Z=f:Z=function(){f(O)}),L(O,"ready",Z),C.useLayoutEffect(function(){if(W.current===null&&E.current!==null&&(Y||z)){var I=null;if(z)switch(r){case"paymentForm":I=z.createPaymentFormElement();break;case"payment":I=z.createPaymentElement(u);break;case"address":if("mode"in u){var Re=u.mode,fe=Os(u,Js);if(Re==="shipping")I=z.createShippingAddressElement(fe);else if(Re==="billing")I=z.createBillingAddressElement(fe);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":I=z.createExpressCheckoutElement(u);break;case"currencySelector":I=z.createCurrencySelectorElement();break;case"taxId":I=z.createTaxIdElement(u);break;default:throw new Error("Invalid Element type ".concat(n,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else Y&&(I=Y.create(r,u));W.current=I,le(I),I&&I.mount(E.current)}},[Y,z,u]);var ye=Ze(u);return C.useEffect(function(){if(W.current){var I=Zt(u,ye,["paymentRequest"]);I&&"update"in W.current&&W.current.update(I)}},[u,ye]),C.useLayoutEffect(function(){return function(){if(W.current&&typeof W.current.destroy=="function")try{W.current.destroy(),W.current=null}catch{}}},[]),C.createElement("div",{id:x,className:g,ref:E})},o=function(l){Qe("mounts <".concat(n,">"));var x=l.id,g=l.className;return C.createElement("div",{id:x,className:g})},m=s?o:i;return m.propTypes={id:S.string,className:S.string,onChange:S.func,onBlur:S.func,onFocus:S.func,onReady:S.func,onEscape:S.func,onClick:S.func,onLoadError:S.func,onLoaderStart:S.func,onNetworksChange:S.func,onConfirm:S.func,onCancel:S.func,onShippingAddressChange:S.func,onShippingRateChange:S.func,onSavedPaymentMethodRemove:S.func,onSavedPaymentMethodUpdate:S.func,options:S.object},m.displayName=n,m.__elementType=r,m},V=typeof window>"u",Ys=C.createContext(null);Ys.displayName="EmbeddedCheckoutProviderContext";var Xs=function(){var r=Qe("calls useStripe()"),s=r.stripe;return s};U("auBankAccount",V);U("card",V);U("cardNumber",V);U("cardExpiry",V);U("cardCvc",V);U("iban",V);var Zs=U("payment",V);U("expressCheckout",V);U("paymentRequestButton",V);U("linkAuthentication",V);U("address",V);U("shippingAddress",V);U("paymentMethodMessaging",V);U("taxId",V);function Le(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Le=function(r){return typeof r}:Le=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Le(t)}var sr="clover",Qs=function(r){return r===3?"v3":r},nr="https://js.stripe.com",en="".concat(nr,"/").concat(sr,"/stripe.js"),tn=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,rn=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var sn=function(r){return tn.test(r)||rn.test(r)},nn=function(){for(var r=document.querySelectorAll('script[src^="'.concat(nr,'"]')),s=0;s<r.length;s++){var n=r[s];if(sn(n.src))return n}return null},Et=function(r){var s="",n=document.createElement("script");n.src="".concat(en).concat(s);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(n),n},an=function(r,s){!r||!r._registerWrapper||r._registerWrapper({name:"stripe-js",version:"8.6.3",startTime:s})},Ce=null,Fe=null,Ae=null,on=function(r){return function(s){r(new Error("Failed to load Stripe.js",{cause:s}))}},cn=function(r,s){return function(){window.Stripe?r(window.Stripe):s(new Error("Stripe.js not available"))}},ln=function(r){return Ce!==null?Ce:(Ce=new Promise(function(s,n){if(typeof window>"u"||typeof document>"u"){s(null);return}if(window.Stripe){s(window.Stripe);return}try{var i=nn();if(!(i&&r)){if(!i)i=Et(r);else if(i&&Ae!==null&&Fe!==null){var o;i.removeEventListener("load",Ae),i.removeEventListener("error",Fe),(o=i.parentNode)===null||o===void 0||o.removeChild(i),i=Et(r)}}Ae=cn(s,n),Fe=on(n),i.addEventListener("load",Ae),i.addEventListener("error",Fe)}catch(m){n(m);return}}),Ce.catch(function(s){return Ce=null,Promise.reject(s)}))},dn=function(r,s,n){if(r===null)return null;var i=s[0];if(typeof i!="string")throw new Error("Expected publishable key to be of type string, got type ".concat(Le(i)," instead."));var o=i.match(/^pk_test/),m=Qs(r.version),v=sr;o&&m!==v&&console.warn("Stripe.js@".concat(m," was loaded on the page, but @stripe/stripe-js@").concat("8.6.3"," expected Stripe.js@").concat(v,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var l=r.apply(void 0,s);return an(l,n),l},Ee,ar=!1,ir=function(){return Ee||(Ee=ln(null).catch(function(r){return Ee=null,Promise.reject(r)}),Ee)};Promise.resolve().then(function(){return ir()}).catch(function(t){ar||console.warn(t)});var un=function(){for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];ar=!0;var i=Date.now();return ir().then(function(o){return dn(o,s,i)})};const mn=un("pk_test_51SqH6eKFWxw28loTNqPdGNqVtDFjIGdKnNIECb2OYLLZlHZ3qVkHvvZm6RcH4R3cHnKrVDqHMxKHhLxjWjGm0vk500NvGr5FSJ");function pn({amount:t,onSuccess:r,onError:s,onCancel:n}){const i=Xs(),o=Ws(),[m,v]=c.useState(!1),[l,x]=c.useState(null),g=async u=>{if(u.preventDefault(),!(!i||!o)){v(!0),x(null);try{const{error:j,paymentIntent:d}=await i.confirmPayment({elements:o,confirmParams:{return_url:`${window.location.origin}/panier?payment=success`},redirect:"if_required"});j?(j.type==="card_error"||j.type==="validation_error"?x(j.message||"Une erreur est survenue"):x("Une erreur inattendue est survenue"),s(j.message||"Erreur de paiement")):d&&d.status==="succeeded"?r(d.id):d&&d.status==="requires_action"&&x("Action supplémentaire requise. Veuillez suivre les instructions.")}catch(j){console.error("Payment error:",j),x("Erreur lors du paiement"),s("Erreur lors du paiement")}finally{v(!1)}}},b=u=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(u/100);return e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsx("div",{className:"bg-zinc-50 rounded-xl p-4 border",children:e.jsx(Zs,{options:{layout:"tabs"}})}),l&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 text-red-700 text-sm",children:l}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-zinc-500",children:[e.jsx(Te,{className:"h-3 w-3"}),e.jsx("span",{children:"Paiement sécurisé par Stripe"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(D,{type:"button",variant:"outline",onClick:n,disabled:m,className:"flex-1",children:"Annuler"}),e.jsx(D,{type:"submit",disabled:!i||m,className:"flex-1 bg-amber-500 hover:bg-amber-600",children:m?e.jsxs(e.Fragment,{children:[e.jsx(ce,{className:"mr-2 h-4 w-4 animate-spin"}),"Traitement..."]}):e.jsxs(e.Fragment,{children:[e.jsx(He,{className:"mr-2 h-4 w-4"}),"Payer ",b(t)]})})]})]})}function fn({clientSecret:t,amount:r,onSuccess:s,onError:n,onCancel:i}){const o={clientSecret:t,appearance:{theme:"stripe",variables:{colorPrimary:"#f59e0b",colorBackground:"#ffffff",colorText:"#18181b",colorDanger:"#ef4444",fontFamily:"Inter, system-ui, sans-serif",borderRadius:"8px"}},locale:"fr"};return e.jsx(tr,{stripe:mn,options:o,children:e.jsx(pn,{amount:r,onSuccess:s,onError:n,onCancel:i})})}const hn="AUw5vAue8y3MGk_adqVUzjXZejFrJh9QveHVNiF1yB5jr58oIYAgjLH6kYcyXwaeI5MUNVZkB_JNcO3-";function xn({amount:t,onSuccess:r,onError:s,onCancel:n,clientEmail:i,clientName:o,items:m}){const v=c.useRef(null),[l,x]=c.useState(!0),[g,b]=c.useState(null),[u,j]=c.useState(!1);c.useEffect(()=>{(()=>{if(window.paypal){j(!0),x(!1);return}const w=document.querySelector('script[src*="paypal.com/sdk"]');if(w){w.addEventListener("load",()=>{j(!0),x(!1)});return}const y=document.createElement("script");y.src=`https://www.paypal.com/sdk/js?client-id=${hn}&currency=EUR&locale=fr_FR`,y.async=!0,y.onload=()=>{j(!0),x(!1)},y.onerror=()=>{b("Impossible de charger PayPal. Veuillez réessayer."),x(!1)},document.body.appendChild(y)})()},[]),c.useEffect(()=>{!u||!v.current||!window.paypal||(v.current.innerHTML="",window.paypal.Buttons({style:{layout:"vertical",color:"gold",shape:"rect",label:"paypal",height:45},createOrder:async()=>{try{const w=await(await fetch(J("/api/payment/order/create-paypal"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:t,clientEmail:i,clientName:o,items:m})})).json();if(!w.success)throw new Error(w.error||"Erreur création commande PayPal");return w.orderId}catch(f){throw console.error("Erreur création PayPal:",f),s(f.message||"Erreur lors de la création du paiement"),f}},onApprove:async f=>{try{const y=await(await fetch(J("/api/payment/order/capture-paypal"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderId:f.orderID})})).json();if(!y.success)throw new Error(y.error||"Erreur capture paiement");r(y.payment.captureId,y.payment.orderId)}catch(w){console.error("Erreur capture PayPal:",w),s(w.message||"Erreur lors de la finalisation du paiement")}},onCancel:()=>{n()},onError:f=>{console.error("Erreur PayPal:",f),s("Une erreur est survenue avec PayPal. Veuillez réessayer.")}}).render(v.current))},[u,t,i,o,m,r,s,n]);const d=f=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(f/100);return l?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx(ce,{className:"h-8 w-8 animate-spin text-amber-500"}),e.jsx("span",{className:"ml-3 text-zinc-600",children:"Chargement de PayPal..."})]}):g?e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[e.jsx(Jr,{className:"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-red-700 font-medium",children:"Erreur PayPal"}),e.jsx("p",{className:"text-red-600 text-sm",children:g})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center text-sm text-zinc-500 mb-2",children:["Montant : ",e.jsx("span",{className:"font-semibold text-zinc-700",children:d(t)})]}),e.jsx("div",{ref:v,className:"min-h-[50px]"}),e.jsx("p",{className:"text-xs text-center text-zinc-400",children:"Paiement sécurisé via PayPal"})]})}function vn({value:t,onChange:r,onSelect:s,placeholder:n="Entrez votre adresse...",id:i="address-autocomplete"}){const[o,m]=c.useState([]),[v,l]=c.useState(!1),[x,g]=c.useState(!1),[b,u]=c.useState(-1),j=c.useRef(null),d=c.useRef(null);c.useEffect(()=>{const N=R=>{j.current&&!j.current.contains(R.target)&&g(!1)};return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[]);const f=async N=>{if(N.length<3){m([]);return}l(!0);try{const H=await(await fetch(`/api/places/autocomplete?input=${encodeURIComponent(N)}`)).json();H.success&&H.predictions?(m(H.predictions.map(X=>({place_id:X.place_id,description:X.description}))),g(!0)):m([])}catch(R){console.error("Erreur autocomplete:",R),m([])}finally{l(!1)}},w=N=>{r(N),u(-1),d.current&&clearTimeout(d.current),d.current=setTimeout(()=>{f(N)},300)},y=N=>{r(N.description),s(N.description),m([]),g(!1),u(-1)},k=N=>{if(!(!x||o.length===0))switch(N.key){case"ArrowDown":N.preventDefault(),u(R=>R<o.length-1?R+1:0);break;case"ArrowUp":N.preventDefault(),u(R=>R>0?R-1:o.length-1);break;case"Enter":N.preventDefault(),b>=0&&b<o.length&&y(o[b]);break;case"Escape":g(!1),u(-1);break}};return e.jsxs("div",{ref:j,className:"relative",children:[e.jsxs("div",{className:"relative",children:[e.jsx(se,{id:i,type:"text",value:t,onChange:N=>w(N.target.value),onFocus:()=>o.length>0&&g(!0),onKeyDown:k,placeholder:n,className:"pr-10",autoComplete:"off"}),e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:v?e.jsx(ce,{className:"h-4 w-4 text-zinc-400 animate-spin"}):e.jsx(Pe,{className:"h-4 w-4 text-zinc-400"})})]}),x&&o.length>0&&e.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-zinc-200 rounded-lg shadow-lg max-h-60 overflow-auto",children:o.map((N,R)=>e.jsxs("button",{type:"button",onClick:()=>y(N),className:`w-full px-4 py-3 text-left text-sm flex items-start gap-3 transition-colors ${R===b?"bg-amber-50 text-amber-900":"hover:bg-zinc-50 text-zinc-700"}`,children:[e.jsx(Pe,{className:`h-4 w-4 mt-0.5 flex-shrink-0 ${R===b?"text-amber-500":"text-zinc-400"}`}),e.jsx("span",{className:"line-clamp-2",children:N.description})]},N.place_id))}),x&&t.length>=3&&o.length===0&&!v&&e.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-zinc-200 rounded-lg shadow-lg p-4 text-sm text-zinc-500 text-center",children:"Aucune adresse trouvée"})]})}function Je(t){const r=Math.floor(t/60),s=t%60;return r===0?`${s}min`:s===0?`${r}h`:`${r}h${s}`}function pe(t){return new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(t)}function Xn(){const{cart:t,removeItem:r,clearCart:s,setLieu:n,setAdresse:i,setDateRdv:o,setHeureDebut:m,setFraisDeplacement:v,itemCount:l,sousTotal:x,total:g,dureeTotale:b,dureeTotaleAvecTrajet:u,blocksDaysTotal:j}=Hr(),{toast:d}=Yr();Xr();const[f,w]=c.useState("panier"),[y,k]=c.useState(!1),[N,R]=c.useState(!1),[H,X]=c.useState(null),[F,A]=c.useState({nom:"",prenom:"",telephone:"",email:""}),[G,ee]=c.useState("sur_place"),[te,re]=c.useState("login"),[Y,q]=c.useState(!1),[z,K]=c.useState(!1),[be,O]=c.useState(!1),[le,W]=c.useState({email:"",password:""}),[E,Z]=c.useState({nom:"",prenom:"",email:"",telephone:"",password:"",confirmPassword:""}),[ye,I]=c.useState(null),[Re,fe]=c.useState(!1),[or,at]=c.useState(!1),[cr,Ne]=c.useState(!1),[lr,Ue]=c.useState(null),[gn,dr]=c.useState([]),[jn,it]=c.useState([]),[bn,ot]=c.useState(!1),[yn,ct]=c.useState(!1),[ae,lt]=c.useState(()=>{const a=new Date,p=a.getDay(),h=new Date(a);return p===0?h.setDate(a.getDate()+1):h.setDate(a.getDate()-p+1),h}),[ie,ke]=c.useState(null),[ur,dt]=c.useState(!1),[ze,mr]=c.useState({domicileEnabled:!0,domicileDisabledMessage:""});c.useEffect(()=>{(async()=>{try{const h=await(await fetch(J("/api/orders/checkout/config"))).json();h.success&&h.config&&(mr(h.config),!h.config.domicileEnabled&&t.lieu==="domicile"&&n("chez_fatou"))}catch(p){console.error("Erreur chargement config checkout:",p)}})()},[]),c.useEffect(()=>{const a=localStorage.getItem("client_token"),p=localStorage.getItem("client_user");if(a&&p)try{const h=JSON.parse(p);R(!0),X(h.id),A({nom:h.nom||"",prenom:h.prenom||"",telephone:h.telephone||"",email:h.email||""})}catch(h){console.error("Erreur parsing user data:",h)}},[]),c.useEffect(()=>{f==="date"&&u>0&&pr()},[f,ae,u,j]);const pr=async()=>{dt(!0);try{const a=`${ae.getFullYear()}-${String(ae.getMonth()+1).padStart(2,"0")}-${String(ae.getDate()).padStart(2,"0")}`,h=await(await fetch(J(`/api/orders/checkout/week-availability?startDate=${a}&duration=${u}&blocksDays=${j}`))).json();h.success&&ke(h.week)}catch(a){console.error("Erreur chargement semaine:",a)}finally{dt(!1)}},fr=()=>{const a=new Date(ae);a.setDate(a.getDate()-7),lt(a)},hr=()=>{const a=new Date(ae);a.setDate(a.getDate()+7),lt(a)},xr=()=>{const a=new Date;a.setHours(0,0,0,0);const p=new Date(ae);return p.setDate(p.getDate()-7),p>=a};c.useEffect(()=>{f==="date"&&u>0&&vr()},[f,u]),c.useEffect(()=>{t.dateRdv&&u>0&&gr(t.dateRdv)},[t.dateRdv,u]);const vr=async()=>{ot(!0);try{const p=await(await fetch(J(`/api/orders/checkout/available-dates?duration=${u}&days=14`))).json();p.success&&dr(p.dates)}catch(a){console.error("Erreur chargement dates:",a)}finally{ot(!1)}},gr=async a=>{ct(!0),it([]);try{const h=await(await fetch(J(`/api/orders/checkout/available-slots?date=${a}&duration=${u}`))).json();h.success&&it(h.slots)}catch(p){console.error("Erreur chargement créneaux:",p)}finally{ct(!1)}},jr=async a=>{if(!a||t.lieu!=="domicile"){v(0,0,0);return}try{const h=await(await fetch(J("/api/orders/checkout/calculate"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:t.items,lieu:"domicile",adresse:a})})).json();if(h.success){const oe=h.fraisDeplacement/100;v(oe,h.distanceKm,h.dureeTrajetMinutes||0)}}catch(p){console.error("Erreur calcul trajet:",p)}},he=[{id:"panier",label:"Panier",icon:e.jsx(pt,{className:"h-4 w-4"})},{id:"lieu",label:"Lieu",icon:e.jsx(Pe,{className:"h-4 w-4"})},{id:"date",label:"Date",icon:e.jsx(Ke,{className:"h-4 w-4"})},...N?[]:[{id:"compte",label:"Compte",icon:e.jsx(ft,{className:"h-4 w-4"})}],{id:"paiement",label:"Paiement",icon:e.jsx(He,{className:"h-4 w-4"})},{id:"confirmation",label:"Confirmation",icon:e.jsx(we,{className:"h-4 w-4"})}],xe=he.findIndex(a=>a.id===f),de=a=>{w(a),window.scrollTo(0,0)},Ve=()=>{const a=xe+1;a<he.length&&de(he[a].id)},Ie=()=>{const a=xe-1;a>=0&&de(he[a].id)},br=()=>l===0?(d({title:"Panier vide",description:"Ajoutez des services à votre panier pour continuer.",variant:"destructive"}),!1):!0,yr=()=>t.lieu?t.lieu==="domicile"&&!t.adresse?(d({title:"Adresse requise",description:"Veuillez saisir votre adresse pour le service à domicile.",variant:"destructive"}),!1):!0:(d({title:"Lieu requis",description:"Veuillez choisir où vous souhaitez être coiffé(e).",variant:"destructive"}),!1),Nr=()=>!t.dateRdv||!t.heureDebut?(d({title:"Date et heure requises",description:"Veuillez choisir une date et une heure pour votre rendez-vous.",variant:"destructive"}),!1):!0,wr=()=>N?!0:(d({title:"Connexion requise",description:"Veuillez vous connecter pour finaliser votre réservation.",variant:"destructive"}),!1),Sr=async a=>{a.preventDefault(),q(!0);try{const p=await fetch(J("/api/client/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(le)}),h=await p.json();if(!p.ok)throw new Error(h.error||"Erreur de connexion");localStorage.setItem("client_token",h.accessToken),localStorage.setItem("client_refresh_token",h.refreshToken),localStorage.setItem("client_user",JSON.stringify(h.client)),R(!0),X(h.client.id),A({nom:h.client.nom||"",prenom:h.client.prenom||"",telephone:h.client.telephone||"",email:h.client.email||""}),d({title:"Connexion réussie",description:`Bienvenue ${h.client.prenom||h.client.nom} !`}),de("paiement")}catch(p){d({title:"Erreur",description:p.message,variant:"destructive"})}finally{q(!1)}},Cr=async a=>{if(a.preventDefault(),E.password!==E.confirmPassword){d({title:"Erreur",description:"Les mots de passe ne correspondent pas",variant:"destructive"});return}if(!be){d({title:"Erreur",description:"Veuillez accepter les conditions générales",variant:"destructive"});return}q(!0);try{const p=await fetch(J("/api/client/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nom:E.nom,prenom:E.prenom,email:E.email,telephone:E.telephone,password:E.password})}),h=await p.json();if(!p.ok)throw new Error(h.error||"Erreur lors de l'inscription");d({title:"Compte créé !",description:`Vous avez reçu ${h.bonusPoints} points de bienvenue !`});const oe=await fetch(J("/api/client/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:E.email,password:E.password})}),_=await oe.json();oe.ok&&(localStorage.setItem("client_token",_.accessToken),localStorage.setItem("client_refresh_token",_.refreshToken),localStorage.setItem("client_user",JSON.stringify(_.client)),R(!0),X(_.client.id),A({nom:_.client.nom||"",prenom:_.client.prenom||"",telephone:_.client.telephone||"",email:_.client.email||""}),de("paiement"))}catch(p){d({title:"Erreur",description:p.message,variant:"destructive"})}finally{q(!1)}},Er=()=>({items:t.items.map((a,p)=>({serviceNom:a.serviceNom,serviceDescription:a.description,dureeMinutes:a.duree,prix:Math.round(a.prix*100),ordre:p})),clientId:H,lieu:t.lieu,adresseClient:t.adresse||null,distanceKm:t.distanceKm||null,dateRdv:t.dateRdv,heureDebut:t.heureDebut,sousTotal:Math.round(x*100),fraisDeplacement:Math.round(t.fraisDeplacement*100),total:Math.round(g*100),clientNom:F.nom,clientPrenom:F.prenom||null,clientTelephone:F.telephone.replace(/\s/g,""),clientEmail:F.email||null,paiementMethode:G}),Ge=async a=>{const p=localStorage.getItem("client_token"),h={...Er(),...a&&{paiementId:a}},_=await(await fetch(J("/api/orders"),{method:"POST",headers:{"Content-Type":"application/json",...p&&{Authorization:`Bearer ${p}`}},body:JSON.stringify(h)})).json();if(!_.success)throw new Error(_.error||"Erreur création commande");return _},Pr=async()=>{at(!0);try{const a=Math.round(g*100);if(!a||a<50)throw new Error(`Montant invalide: ${a} centimes (minimum 50)`);console.log("[Stripe] Initialisation paiement:",{amountInCents:a,total:g,items:t.items.length});const h=await(await fetch(J("/api/payment/order/create-intent"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:a,clientEmail:F.email,clientName:`${F.prenom} ${F.nom}`.trim(),items:t.items})})).json();if(console.log("[Stripe] Reponse:",h),!h.success)throw new Error(h.error||"Erreur creation paiement");I(h.clientSecret),fe(!0)}catch(a){console.error("Erreur Stripe:",a),d({title:"Erreur",description:a.message||"Impossible d'initialiser le paiement. Veuillez reessayer.",variant:"destructive"})}finally{at(!1)}},Rr=async a=>{k(!0);try{await Ge(a),d({title:"Paiement réussi !",description:"Votre réservation est confirmée."}),Ue({dateRdv:t.dateRdv,heureDebut:t.heureDebut,lieu:t.lieu,adresse:t.adresse,items:[...t.items],total:g,fraisDeplacement:t.fraisDeplacement}),fe(!1),s(),ke(null),de("confirmation")}catch(p){console.error("Erreur après paiement:",p),d({title:"Erreur",description:"Paiement réussi mais erreur lors de la création de la commande. Contactez-nous.",variant:"destructive"})}finally{k(!1)}},kr=a=>{d({title:"Erreur de paiement",description:a,variant:"destructive"})},zr=()=>{fe(!1),I(null)},Ir=async(a,p)=>{k(!0);try{await Ge(p),d({title:"Paiement PayPal réussi !",description:"Votre réservation est confirmée."}),Ue({dateRdv:t.dateRdv,heureDebut:t.heureDebut,lieu:t.lieu,adresse:t.adresse,items:[...t.items],total:g,fraisDeplacement:t.fraisDeplacement}),Ne(!1),s(),ke(null),de("confirmation")}catch(h){console.error("Erreur après paiement PayPal:",h),d({title:"Erreur",description:"Paiement réussi mais erreur lors de la création de la commande. Contactez-nous.",variant:"destructive"})}finally{k(!1)}},Dr=a=>{d({title:"Erreur PayPal",description:a,variant:"destructive"}),Ne(!1)},Fr=()=>{Ne(!1),d({title:"Paiement annulé",description:"Vous pouvez choisir un autre mode de paiement."})},Ar=async()=>{if(wr()){if(console.log("[submitOrder] Total:",g,"| Items:",t.items.length,"| Methode:",G),G==="stripe"){await Pr();return}if(G==="paypal"){console.log("[PayPal] Affichage bouton, montant:",Math.round(g*100),"centimes"),Ne(!0);return}k(!0);try{await Ge(),d({title:"Commande confirmée !",description:"Vous recevrez une confirmation par SMS."}),Ue({dateRdv:t.dateRdv,heureDebut:t.heureDebut,lieu:t.lieu,adresse:t.adresse,items:[...t.items],total:g,fraisDeplacement:t.fraisDeplacement}),s(),ke(null),de("confirmation")}catch(a){console.error("Erreur commande:",a),d({title:"Erreur",description:"Impossible de valider la commande. Veuillez réessayer.",variant:"destructive"})}finally{k(!1)}}},Tr=()=>e.jsx("div",{className:"flex items-center justify-center gap-2 mb-8",children:he.map((a,p)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full border-2 transition-colors ${p<xe||p===xe?"bg-amber-500 border-amber-500 text-white":"border-zinc-300 text-zinc-400"}`,children:p<xe?e.jsx(we,{className:"h-4 w-4"}):a.icon}),p<he.length-1&&e.jsx("div",{className:`w-8 h-0.5 mx-1 ${p<xe?"bg-amber-500":"bg-zinc-300"}`})]},a.id))}),Or=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-zinc-900",children:"Votre panier"}),l===0?e.jsx(M,{children:e.jsxs($,{className:"py-12 text-center",children:[e.jsx(pt,{className:"h-16 w-16 mx-auto text-zinc-300 mb-4"}),e.jsx("p",{className:"text-zinc-500 mb-4",children:"Votre panier est vide"}),e.jsx(me,{href:"/services",children:e.jsx(D,{className:"bg-amber-500 hover:bg-amber-600",children:"Voir nos services"})})]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4",children:t.items.map(a=>e.jsx(M,{children:e.jsx($,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-zinc-900",children:a.serviceNom}),e.jsx("p",{className:"text-sm text-zinc-500",children:a.description}),e.jsxs("p",{className:"text-sm text-zinc-400 mt-1",children:["Durée: ",Je(a.duree)]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"font-bold text-amber-600",children:pe(a.prix)}),e.jsx(D,{variant:"ghost",size:"icon",onClick:()=>r(a.id),className:"text-red-500 hover:text-red-600 hover:bg-red-50",children:e.jsx(ns,{className:"h-4 w-4"})})]})]})})},a.id))}),e.jsx(M,{className:"bg-amber-50 border-amber-200",children:e.jsxs($,{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm mb-2",children:[e.jsx("span",{className:"text-zinc-600",children:"Durée totale estimée"}),e.jsx("span",{className:"font-medium",children:Je(b)})]}),e.jsx(Oe,{className:"my-2 bg-amber-200"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-semibold text-zinc-900",children:"Sous-total"}),e.jsx("span",{className:"font-bold text-xl text-amber-600",children:pe(x)})]}),e.jsx("p",{className:"text-xs text-zinc-500 mt-2",children:"* Frais de déplacement en supplément si service à domicile"})]})}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(D,{variant:"outline",onClick:s,children:"Vider le panier"}),e.jsxs(D,{onClick:()=>br()&&Ve(),className:"bg-amber-500 hover:bg-amber-600",children:["Continuer",e.jsx(De,{className:"ml-2 h-4 w-4"})]})]})]})]}),_r=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-zinc-900",children:"Où souhaitez-vous être coiffé(e) ?"}),e.jsxs(Xe,{value:t.lieu||"",onValueChange:a=>n(a),className:"space-y-4",children:[e.jsx(M,{className:`cursor-pointer transition-all ${t.lieu==="chez_fatou"?"ring-2 ring-amber-500 bg-amber-50":""}`,onClick:()=>n("chez_fatou"),children:e.jsx($,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(ve,{value:"chez_fatou",id:"chez_fatou",className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(T,{htmlFor:"chez_fatou",className:"text-lg font-semibold cursor-pointer",children:"Chez Fatou à Franconville"}),e.jsx("p",{className:"text-sm text-zinc-500 mt-1",children:"8 rue des Monts Rouges, 95130 Franconville"}),e.jsx("p",{className:"text-sm text-green-600 font-medium mt-2",children:"Pas de frais de déplacement"})]}),e.jsx(Zr,{className:"h-8 w-8 text-amber-500"})]})})}),ze.domicileEnabled&&e.jsx(M,{className:`cursor-pointer transition-all ${t.lieu==="domicile"?"ring-2 ring-amber-500 bg-amber-50":""}`,onClick:()=>n("domicile"),children:e.jsx($,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(ve,{value:"domicile",id:"domicile",className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(T,{htmlFor:"domicile",className:"text-lg font-semibold cursor-pointer",children:"À domicile"}),e.jsx("p",{className:"text-sm text-zinc-500 mt-1",children:"Fatou se déplace chez vous en Île-de-France"}),e.jsx("p",{className:"text-sm text-amber-600 font-medium mt-2",children:"Frais de déplacement selon distance"})]}),e.jsx(Pe,{className:"h-8 w-8 text-amber-500"})]})})})]}),!ze.domicileEnabled&&ze.domicileDisabledMessage&&e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 text-sm text-amber-800",children:e.jsx("p",{children:ze.domicileDisabledMessage})}),t.lieu==="domicile"&&e.jsx(M,{children:e.jsxs($,{className:"p-4 space-y-4",children:[e.jsx(T,{htmlFor:"adresse",children:"Votre adresse complète"}),e.jsx(vn,{id:"adresse",placeholder:"Ex: 15 rue de la Paix, 75002 Paris",value:t.adresse,onChange:a=>i(a),onSelect:a=>jr(a)}),t.dureeTrajet>0&&e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-zinc-600",children:"Distance :"}),e.jsxs("span",{className:"font-medium",children:[t.distanceKm.toFixed(1)," km"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-zinc-600",children:"Temps de trajet :"}),e.jsxs("span",{className:"font-medium",children:[t.dureeTrajet," min"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-zinc-600",children:"Frais de déplacement :"}),e.jsx("span",{className:"font-medium text-amber-600",children:pe(t.fraisDeplacement)})]})]}),e.jsx("p",{className:"text-xs text-zinc-500",children:"Les frais et le temps de trajet sont calculés automatiquement. Le temps de trajet est pris en compte pour les disponibilités."})]})}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(D,{variant:"outline",onClick:Ie,children:[e.jsx(Se,{className:"mr-2 h-4 w-4"}),"Retour"]}),e.jsxs(D,{onClick:()=>yr()&&Ve(),className:"bg-amber-500 hover:bg-amber-600",children:["Continuer",e.jsx(De,{className:"ml-2 h-4 w-4"})]})]})]}),Lr=()=>{const a=()=>{const P=new Date(ae);return P.setDate(P.getDate()+3),P.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})},p=P=>{const[B,Q,ue]=P.split("-").map(Number);return new Date(B,Q-1,ue).toLocaleDateString("fr-FR",{day:"numeric",month:"short"})},oe=(()=>{if(!ie)return[];const P=Object.keys(ie).sort(),B=new Set;return P.forEach(Q=>{ie[Q].allSlots.forEach(ue=>B.add(ue))}),Array.from(B).sort()})(),_=ie?Object.keys(ie).sort():[];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-zinc-900",children:"Choisissez votre créneau"}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-zinc-700",children:[e.jsx("span",{className:"font-medium",children:"Durée d'intervention estimée :"})," ",Je(u),t.dureeTrajet>0&&e.jsxs("span",{className:"text-zinc-500",children:[" ","(dont ",t.dureeTrajet," min de trajet)"]})]})}),e.jsx(M,{children:e.jsx($,{className:"pt-6",children:ur?e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx(ce,{className:"h-8 w-8 animate-spin text-amber-500"}),e.jsx("span",{className:"ml-3 text-zinc-500",children:"Chargement des disponibilités..."})]}):ie?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs(D,{variant:"outline",size:"sm",onClick:fr,disabled:!xr(),children:[e.jsx(Se,{className:"h-4 w-4 mr-1"}),"Sem. préc."]}),e.jsx("span",{className:"font-semibold text-zinc-800 capitalize",children:a()}),e.jsxs(D,{variant:"outline",size:"sm",onClick:hr,children:["Sem. suiv.",e.jsx(De,{className:"h-4 w-4 ml-1"})]})]}),e.jsx("div",{className:"overflow-x-auto -mx-4 px-4",children:e.jsxs("div",{className:"min-w-[700px]",children:[e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:_.map(P=>{const B=ie[P],Q=P===new Date().toISOString().split("T")[0];return e.jsxs("div",{className:`text-center p-2 rounded-t-lg ${Q?"bg-amber-100":"bg-zinc-100"}`,children:[e.jsxs("div",{className:"text-xs uppercase font-medium text-zinc-500",children:[B.jour,"."]}),e.jsx("div",{className:`font-semibold ${Q?"text-amber-600":"text-zinc-800"}`,children:p(P)})]},P)})}),oe.length===0?e.jsxs("div",{className:"text-center py-8 text-zinc-500",children:[e.jsx(as,{className:"h-10 w-10 mx-auto mb-2 text-zinc-300"}),e.jsx("p",{children:"Aucun créneau disponible cette semaine."})]}):oe.map(P=>e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-1",children:_.map(B=>{const Q=ie[B],ue=Q.slots.includes(P),ut=Q.allSlots.includes(P),Vr=t.dateRdv===B&&t.heureDebut===P,mt=Q.closed;return!ut&&!mt?e.jsx("div",{className:"h-10"},`${B}-${P}`):mt?e.jsx("div",{className:"h-10 flex items-center justify-center bg-zinc-50 rounded text-zinc-300 text-xs",children:"—"},`${B}-${P}`):e.jsx("button",{disabled:!ue,onClick:()=>{ue&&(o(B),m(P))},className:`h-10 rounded text-sm font-medium transition-all ${Vr?"bg-amber-500 text-white shadow-md":ue?"bg-green-50 text-green-700 border border-green-300 hover:bg-green-100 hover:border-green-400":"bg-zinc-100 text-zinc-400 cursor-not-allowed"}`,children:P},`${B}-${P}`)})},P))]})}),e.jsxs("div",{className:"flex justify-center gap-6 mt-6 text-xs text-zinc-500",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-green-50 border border-green-300"}),e.jsx("span",{children:"Disponible"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-zinc-100"}),e.jsx("span",{children:"Indisponible"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-amber-500"}),e.jsx("span",{children:"Sélectionné"})]})]})]}):e.jsxs("div",{className:"text-center py-12 text-zinc-500",children:[e.jsx(Ke,{className:"h-12 w-12 mx-auto mb-2 text-zinc-300"}),e.jsx("p",{children:"Erreur lors du chargement des disponibilités."})]})})}),t.dateRdv&&t.heureDebut&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-green-800",children:[e.jsx("span",{className:"font-medium",children:"Rendez-vous sélectionné :"})," ",new Date(t.dateRdv+"T00:00:00").toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})," ","à ",e.jsx("span",{className:"font-semibold",children:t.heureDebut})]})}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(D,{variant:"outline",onClick:Ie,children:[e.jsx(Se,{className:"mr-2 h-4 w-4"}),"Retour"]}),e.jsxs(D,{onClick:()=>Nr()&&Ve(),className:"bg-amber-500 hover:bg-amber-600",disabled:!t.dateRdv||!t.heureDebut,children:["Continuer",e.jsx(De,{className:"ml-2 h-4 w-4"})]})]})]})},Mr=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-zinc-900",children:"Connexion requise"}),e.jsx("p",{className:"text-zinc-500",children:"Pour finaliser votre réservation, veuillez vous connecter ou créer un compte."}),e.jsxs("div",{className:"flex gap-2 p-1 bg-zinc-100 rounded-lg",children:[e.jsxs("button",{onClick:()=>re("login"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${te==="login"?"bg-white text-amber-600 shadow-sm":"text-zinc-600 hover:text-zinc-900"}`,children:[e.jsx(ht,{className:"h-4 w-4 inline mr-2"}),"Connexion"]}),e.jsxs("button",{onClick:()=>re("register"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${te==="register"?"bg-white text-amber-600 shadow-sm":"text-zinc-600 hover:text-zinc-900"}`,children:[e.jsx(xt,{className:"h-4 w-4 inline mr-2"}),"Inscription"]})]}),te==="login"?e.jsx(M,{children:e.jsx($,{className:"p-6",children:e.jsxs("form",{onSubmit:Sr,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(T,{htmlFor:"login-email",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(vt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-zinc-400"}),e.jsx(se,{id:"login-email",type:"email",placeholder:"votre@email.com",value:le.email,onChange:a=>W({...le,email:a.target.value}),className:"pl-10",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(T,{htmlFor:"login-password",children:"Mot de passe"}),e.jsxs("div",{className:"relative",children:[e.jsx(Te,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-zinc-400"}),e.jsx(se,{id:"login-password",type:z?"text":"password",placeholder:"Votre mot de passe",value:le.password,onChange:a=>W({...le,password:a.target.value}),className:"pl-10 pr-10",required:!0}),e.jsx("button",{type:"button",onClick:()=>K(!z),className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-400 hover:text-zinc-600",children:z?e.jsx(gt,{className:"h-4 w-4"}):e.jsx(jt,{className:"h-4 w-4"})})]})]}),e.jsx("div",{className:"text-right",children:e.jsx(me,{href:"/mon-compte/mot-de-passe-oublie",className:"text-sm text-amber-600 hover:text-amber-700",children:"Mot de passe oublié ?"})}),e.jsx(D,{type:"submit",disabled:Y,className:"w-full bg-amber-500 hover:bg-amber-600",children:Y?e.jsxs(e.Fragment,{children:[e.jsx(ce,{className:"mr-2 h-4 w-4 animate-spin"}),"Connexion..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ht,{className:"mr-2 h-4 w-4"}),"Se connecter"]})})]})})}):e.jsx(M,{children:e.jsxs($,{className:"p-6",children:[e.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-200 rounded-xl flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-amber-500 rounded-lg",children:e.jsx(is,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-amber-700",children:"50 points offerts"}),e.jsx("p",{className:"text-sm text-amber-600",children:"Bonus de bienvenue à l'inscription"})]})]}),e.jsxs("form",{onSubmit:Cr,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(T,{htmlFor:"register-nom",children:"Nom *"}),e.jsx(se,{id:"register-nom",placeholder:"Diallo",value:E.nom,onChange:a=>Z({...E,nom:a.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(T,{htmlFor:"register-prenom",children:"Prénom"}),e.jsx(se,{id:"register-prenom",placeholder:"Aminata",value:E.prenom,onChange:a=>Z({...E,prenom:a.target.value})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(T,{htmlFor:"register-email",children:"Email *"}),e.jsxs("div",{className:"relative",children:[e.jsx(vt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-zinc-400"}),e.jsx(se,{id:"register-email",type:"email",placeholder:"votre@email.com",value:E.email,onChange:a=>Z({...E,email:a.target.value}),className:"pl-10",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(T,{htmlFor:"register-telephone",children:"Téléphone *"}),e.jsxs("div",{className:"relative",children:[e.jsx(os,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-zinc-400"}),e.jsx(se,{id:"register-telephone",type:"tel",placeholder:"06 12 34 56 78",value:E.telephone,onChange:a=>Z({...E,telephone:a.target.value}),className:"pl-10",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(T,{htmlFor:"register-password",children:"Mot de passe *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Te,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-zinc-400"}),e.jsx(se,{id:"register-password",type:z?"text":"password",placeholder:"Min. 8 caractères",value:E.password,onChange:a=>Z({...E,password:a.target.value}),className:"pl-10 pr-10",required:!0}),e.jsx("button",{type:"button",onClick:()=>K(!z),className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-400 hover:text-zinc-600",children:z?e.jsx(gt,{className:"h-4 w-4"}):e.jsx(jt,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(T,{htmlFor:"register-confirm",children:"Confirmer le mot de passe *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Te,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-zinc-400"}),e.jsx(se,{id:"register-confirm",type:z?"text":"password",placeholder:"Confirmez votre mot de passe",value:E.confirmPassword,onChange:a=>Z({...E,confirmPassword:a.target.value}),className:"pl-10",required:!0})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ts,{id:"accept-terms",checked:be,onCheckedChange:a=>O(a),className:"mt-1"}),e.jsxs(T,{htmlFor:"accept-terms",className:"text-sm text-zinc-600 leading-relaxed",children:["J'accepte les"," ",e.jsx(me,{href:"/cgv",className:"text-amber-600 hover:underline",children:"conditions générales"})," ","et la"," ",e.jsx(me,{href:"/confidentialite",className:"text-amber-600 hover:underline",children:"politique de confidentialité"})]})]}),e.jsx(D,{type:"submit",disabled:Y,className:"w-full bg-amber-500 hover:bg-amber-600",children:Y?e.jsxs(e.Fragment,{children:[e.jsx(ce,{className:"mr-2 h-4 w-4 animate-spin"}),"Création en cours..."]}):e.jsxs(e.Fragment,{children:[e.jsx(xt,{className:"mr-2 h-4 w-4"}),"Créer mon compte"]})})]})]})}),e.jsx("div",{className:"flex justify-between",children:e.jsxs(D,{variant:"outline",onClick:Ie,children:[e.jsx(Se,{className:"mr-2 h-4 w-4"}),"Retour"]})})]}),$r=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-zinc-900",children:"Récapitulatif & paiement"}),N&&e.jsx(M,{className:"bg-green-50 border-green-200",children:e.jsxs($,{className:"p-4 flex items-center gap-3",children:[e.jsx(we,{className:"h-5 w-5 text-green-600"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-green-800",children:["Connecté en tant que ",F.prenom||F.nom]}),e.jsx("p",{className:"text-sm text-green-600",children:F.email})]})]})}),e.jsxs(M,{children:[e.jsx(qe,{children:e.jsxs(Be,{className:"text-lg flex items-center gap-2",children:[e.jsx(ft,{className:"h-5 w-5 text-amber-500"}),"Vos coordonnées"]})}),e.jsxs($,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(T,{className:"text-zinc-500",children:"Nom"}),e.jsx("p",{className:"font-medium",children:F.nom||"-"})]}),e.jsxs("div",{children:[e.jsx(T,{className:"text-zinc-500",children:"Prénom"}),e.jsx("p",{className:"font-medium",children:F.prenom||"-"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(T,{className:"text-zinc-500",children:"Téléphone"}),e.jsx("p",{className:"font-medium",children:F.telephone||"-"})]}),e.jsxs("div",{children:[e.jsx(T,{className:"text-zinc-500",children:"Email"}),e.jsx("p",{className:"font-medium",children:F.email||"-"})]})]}),e.jsxs("p",{className:"text-xs text-zinc-400 pt-2",children:["Ces informations proviennent de votre compte."," ",e.jsx(me,{href:"/mon-compte",className:"text-amber-600 hover:underline",children:"Modifier mon profil"})]})]})]}),e.jsxs(M,{className:"bg-zinc-50",children:[e.jsx(qe,{children:e.jsx(Be,{className:"text-lg",children:"Récapitulatif"})}),e.jsxs($,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-zinc-600",children:["Services (",l,")"]}),e.jsx("span",{children:pe(x)})]}),t.fraisDeplacement>0&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-zinc-600",children:"Frais de déplacement"}),e.jsx("span",{children:pe(t.fraisDeplacement)})]}),e.jsx(Oe,{}),e.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[e.jsx("span",{children:"Total"}),e.jsx("span",{className:"text-amber-600",children:pe(g)})]}),e.jsxs("div",{className:"text-sm text-zinc-500 pt-2",children:[e.jsxs("p",{children:[e.jsx(Ke,{className:"h-4 w-4 inline mr-1"}),new Date(t.dateRdv).toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long"})," à ",t.heureDebut]}),e.jsxs("p",{children:[e.jsx(Pe,{className:"h-4 w-4 inline mr-1"}),t.lieu==="chez_fatou"?"Chez Fatou à Franconville":t.adresse]})]})]})]}),e.jsxs(M,{children:[e.jsx(qe,{children:e.jsxs(Be,{className:"text-lg flex items-center gap-2",children:[e.jsx(He,{className:"h-5 w-5 text-amber-500"}),"Mode de paiement"]})}),e.jsxs($,{children:[Re&&ye?e.jsx("div",{className:"space-y-4",children:e.jsx(fn,{clientSecret:ye,amount:Math.round(g*100),onSuccess:Rr,onError:kr,onCancel:zr})}):cr?e.jsxs("div",{className:"space-y-4",children:[e.jsx(xn,{amount:Math.round(g*100),onSuccess:Ir,onError:Dr,onCancel:Fr}),e.jsx(D,{variant:"outline",onClick:()=>Ne(!1),className:"w-full",children:"Choisir un autre mode de paiement"})]}):e.jsxs(Xe,{value:G,onValueChange:a=>ee(a),className:"space-y-3",children:[e.jsxs("div",{className:`flex items-center space-x-3 p-4 border rounded-lg cursor-pointer transition-all ${G==="stripe"?"border-amber-500 bg-amber-50":"border-zinc-200 hover:border-zinc-300"}`,onClick:()=>ee("stripe"),children:[e.jsx(ve,{value:"stripe",id:"stripe"}),e.jsx(T,{htmlFor:"stripe",className:"flex-1 cursor-pointer",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Carte bancaire"}),e.jsx("p",{className:"text-sm text-zinc-500",children:"Visa, Mastercard, CB"})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("img",{src:"https://cdn.jsdelivr.net/gh/nicepay-dev/nicepay-static@master/img/visa.svg",alt:"Visa",className:"h-6"}),e.jsx("img",{src:"https://cdn.jsdelivr.net/gh/nicepay-dev/nicepay-static@master/img/mastercard.svg",alt:"Mastercard",className:"h-6"})]})]})})]}),e.jsxs("div",{className:`flex items-center space-x-3 p-4 border rounded-lg cursor-pointer transition-all ${G==="paypal"?"border-amber-500 bg-amber-50":"border-zinc-200 hover:border-zinc-300"}`,onClick:()=>ee("paypal"),children:[e.jsx(ve,{value:"paypal",id:"paypal"}),e.jsx(T,{htmlFor:"paypal",className:"flex-1 cursor-pointer",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"PayPal"}),e.jsx("p",{className:"text-sm text-zinc-500",children:"Paiement sécurisé"})]}),e.jsx("img",{src:"https://www.paypalobjects.com/webstatic/mktg/Logo/pp-logo-100px.png",alt:"PayPal",className:"h-6"})]})})]}),e.jsxs("div",{className:`flex items-center space-x-3 p-4 border rounded-lg cursor-pointer transition-all ${G==="sur_place"?"border-amber-500 bg-amber-50":"border-zinc-200 hover:border-zinc-300"}`,onClick:()=>ee("sur_place"),children:[e.jsx(ve,{value:"sur_place",id:"sur_place"}),e.jsx(T,{htmlFor:"sur_place",className:"flex-1 cursor-pointer",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Paiement sur place"}),e.jsx("p",{className:"text-sm text-zinc-500",children:"Espèces, CB ou virement le jour du RDV"})]})})]})]}),or&&e.jsxs("div",{className:"flex items-center justify-center py-4",children:[e.jsx(ce,{className:"h-6 w-6 animate-spin text-amber-500 mr-2"}),e.jsx("span",{className:"text-zinc-600",children:"Initialisation du paiement..."})]})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(D,{variant:"outline",onClick:Ie,children:[e.jsx(Se,{className:"mr-2 h-4 w-4"}),"Retour"]}),e.jsx(D,{onClick:Ar,disabled:y,className:"bg-amber-500 hover:bg-amber-600",children:y?e.jsxs(e.Fragment,{children:[e.jsx(ce,{className:"mr-2 h-4 w-4 animate-spin"}),"Validation..."]}):e.jsxs(e.Fragment,{children:["Confirmer la réservation",e.jsx(we,{className:"ml-2 h-4 w-4"})]})})]})]}),Ur=()=>{const a=lr||{dateRdv:t.dateRdv,heureDebut:t.heureDebut,lieu:t.lieu,adresse:t.adresse,items:t.items,total:g,fraisDeplacement:t.fraisDeplacement};return e.jsxs("div",{className:"text-center space-y-6 py-8",children:[e.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:e.jsx(we,{className:"h-10 w-10 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-zinc-900",children:"Réservation confirmée !"}),e.jsx("p",{className:"text-zinc-500 mt-2",children:"Vous recevrez une confirmation par SMS et un rappel 24h avant votre rendez-vous."})]}),e.jsx(M,{className:"text-left",children:e.jsxs($,{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-zinc-500",children:"Date et heure"}),e.jsxs("p",{className:"font-medium",children:[a.dateRdv?new Date(a.dateRdv+"T00:00:00").toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long"}):"Date non disponible"," à ",a.heureDebut||"--:--"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-zinc-500",children:"Lieu"}),e.jsx("p",{className:"font-medium",children:a.lieu==="chez_fatou"?"8 rue des Monts Rouges, 95130 Franconville":a.adresse||"Adresse non disponible"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-zinc-500",children:"Services"}),a.items&&a.items.length>0?a.items.map(p=>e.jsx("p",{className:"font-medium",children:p.serviceNom},p.id)):e.jsx("p",{className:"font-medium text-zinc-400",children:"Services réservés"})]}),e.jsx(Oe,{}),e.jsxs("div",{className:"flex justify-between font-bold",children:[e.jsx("span",{children:"Total"}),e.jsx("span",{className:"text-amber-600",children:pe(a.total)})]}),G==="sur_place"&&e.jsx("p",{className:"text-sm text-amber-600",children:"À régler sur place le jour du rendez-vous"})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(me,{href:"/",children:e.jsx(D,{variant:"outline",children:"Retour à l'accueil"})}),e.jsx(me,{href:"/services",children:e.jsx(D,{className:"bg-amber-500 hover:bg-amber-600",children:"Voir nos services"})})]})]})};return e.jsxs("div",{className:"min-h-screen bg-zinc-50",children:[e.jsx(rs,{}),e.jsx("main",{className:"pt-24 pb-16",children:e.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[f!=="confirmation"&&Tr(),f==="panier"&&Or(),f==="lieu"&&_r(),f==="date"&&Lr(),f==="compte"&&Mr(),f==="paiement"&&$r(),f==="confirmation"&&Ur()]})}),f==="confirmation"&&e.jsx(ss,{})]})}export{Xn as default};
